<p align="center">
  <a href="README.en.md">English Version</a> | –†—É—Å—Å–∫–∞—è –í–µ—Ä—Å–∏—è
</p>

<h1 align="center">ü§ñ VPS Manager Telegram Bot</h1>

<p align="center"> <b>v1.16.0</b> ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—à–µ–π <b>—Å–µ—Ç—å—é —Å–µ—Ä–≤–µ—Ä–æ–≤</b>. 
–°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ <b>–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —è–¥—Ä–µ</b> (AsyncIO), –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö <b>SQLite</b> –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å <b>Docker</b>. 
–í–∫–ª—é—á–∞–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π <b>–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</b> –Ω–∞ –±–∞–∑–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ <b>SSE</b> –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–æ–¥–∞–º–∏. </p>

<p align="center">
  <a href="https://github.com/jatixs/tgbotvpscp/releases/latest"><img src="https://img.shields.io/badge/version-v1.16.0-blue?style=flat-square" alt="Version 1.16.0"/></a>
  <a href="CHANGELOG.md"><img src="https://img.shields.io/badge/build-60-purple?style=flat-square" alt="Build 60"/></a>
  <a href="https://www.python.org/"><img src="https://img.shields.io/badge/python-3.10%2B-green?style=flat-square" alt="Python 3.10+"/></a>
  <a href="https://choosealicense.com/licenses/gpl-3.0/"><img src="https://img.shields.io/badge/license-GPL--3.0-lightgrey?style=flat-square" alt="License GPL-3.0"/></a>
  <a href="https://github.com/aiogram/aiogram"><img src="https://img.shields.io/badge/aiogram-3.x-orange?style=flat-square" alt="Aiogram 3.x"/></a>
  <a href="https://www.docker.com/"><img src="https://img.shields.io/badge/docker-required-blueviolet?style=flat-square" alt="Docker"/></a>
  <a href="https://releases.ubuntu.com/focal/"><img src="https://img.shields.io/badge/platform-Ubuntu%2020.04%2B-important?style=flat-square" alt="Platform Ubuntu 20.04+"/></a>
  <a href="https://github.com/jatixs/tgbotvpscp/actions/workflows/security.yml/"><img src="https://github.com/jatixs/tgbotvpscp/actions/workflows/security.yml/badge.svg" alt="Security Scan"/></a>
</p>

---

## üìò –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#-–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#-–∫–ª—é—á–µ–≤—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏)
3. [–ì–∞–ª–µ—Ä–µ—è](#-–≥–∞–ª–µ—Ä–µ—è)
4. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç)](#-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–Ω–∞-vps-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
   - [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞](#1-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)
   - [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –û—Å–Ω–æ–≤–Ω–æ–≥–æ –ë–æ—Ç–∞ (Master)](#2-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–æ—Å–Ω–æ–≤–Ω–æ–≥–æ-–±–æ—Ç–∞-master)
   - [–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ù–æ–¥ (–ö–ª–∏–µ–Ω—Ç–æ–≤)](#3-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ-–Ω–æ–¥-–∫–ª–∏–µ–Ω—Ç–æ–≤)
   - [–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#-–ø–æ–ª–µ–∑–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)
4. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#Ô∏è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
5. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
6. [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
7. [–ê–≤—Ç–æ—Ä](#-–∞–≤—Ç–æ—Ä)

---

## üß© –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**VPS Manager Telegram Bot** ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ Telegram. –ë–æ—Ç —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–ª –≤ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (**Agent**) –∏ —Å–µ—Ç–∏ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —É–∑–ª–æ–≤ (**Nodes**) –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

–ü—Ä–æ–µ–∫—Ç –º–æ–¥—É–ª—å–Ω—ã–π –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¥–≤—É—Ö —Ä–µ–∂–∏–º–∞—Ö:
1.  **Agent (–ë–æ—Ç):** –£–ø—Ä–∞–≤–ª—è—é—â–∏–π —Ü–µ–Ω—Ç—Ä —Å Telegram-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º API, –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö SQLite –∏ Web-–∞–¥–º–∏–Ω–∫–æ–π.
2.  **Node (–ê–≥–µ–Ω—Ç):** –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç (`tg-node`) –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö VPS. –ü–µ—Ä–µ–¥–∞–µ—Ç —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã.

---

## ‚ö° –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
* **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —è–¥—Ä–æ:** –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `aiohttp` –∏ `aiosqlite`. –ù–∏–∫–∞–∫–∏—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –∏–ª–∏ –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö.
* **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite:** –ù–∞–¥–µ–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–æ–¥, –∑–∞–¥–∞—á –∏ –∏—Å—Ç–æ—Ä–∏–∏ –º–µ—Ç—Ä–∏–∫. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ JSON.
* **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ó–∞—â–∏—Ç–∞ –æ—Ç Shell Injection (`shlex`), —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Å–µ—Å—Å–∏–∏, Rate Limiter –∏ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ XSS.

### üñ• –ú—É–ª—å—Ç–∏-—Å–µ—Ä–≤–µ—Ä–Ω–æ—Å—Ç—å (–ù–æ–¥—ã)
* **–ï–¥–∏–Ω—ã–π —Ü–µ–Ω—Ç—Ä:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º —á–∏—Å–ª–æ–º —Å–µ—Ä–≤–µ—Ä–æ–≤.
* **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –°—Ç–∞—Ç—É—Å (Online/Offline), –ø–∏–Ω–≥, –∞–ø—Ç–∞–π–º –∏ —Ä–µ—Å—É—Ä—Å—ã –≤—Å–µ—Ö –Ω–æ–¥.
* **–£–¥–∞–ª–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** `Reboot`, `Speedtest`, `Traffic`, `Top` –Ω–∞ –ª—é–±–æ–º —Å–µ—Ä–≤–µ—Ä–µ.
* **Web Status Page:** HTML-–¥–∞—à–±–æ—Ä–¥ (`http://IP:8080`) —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

### üõ† –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
* üê≥ **–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Docker:** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –æ–¥–∏–Ω –∫–ª–∏–∫ (`secure` –∏ `root` —Ä–µ–∂–∏–º—ã).
* üåê **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å (i18n):** –†—É—Å—Å–∫–∏–π –∏ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫–∏.
* üíª **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤:** CPU, RAM, Disk, Uptime (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤ Docker-root).
* üì° **–°–µ—Ç–µ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** –¢—Ä–∞—Ñ–∏–∫ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å (iperf3) –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
* üîî **–£–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** –ê–ª–µ—Ä—Ç—ã –æ —Ä–µ—Å—É—Ä—Å–∞—Ö, SSH-–≤—Ö–æ–¥–∞—Ö, –±–∞–Ω–∞—Ö Fail2Ban –∏ **–¥–∞—É–Ω—Ç–∞–π–º–µ –Ω–æ–¥**.
* ‚ú® **Smart Installer (`deploy.sh`):** –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ë–æ—Ç–∞ –∏ –ù–æ–¥.
* üöÄ **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** –ü–∏–Ω–≥, Speedtest, –¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.
* üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –õ–æ–≥–∏ SSH –∏ Fail2Ban.
* üîë **VLESS & Xray:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫, QR-–∫–æ–¥–æ–≤ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —è–¥–µ—Ä (Marzban/Amnezia).

---
## üì∏ –ì–∞–ª–µ—Ä–µ—è

<details>
  <summary><b>üì± Telegram Bot (–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)</b></summary>

  | –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ |
  |:---:|:---:|:---:|
  | ![Bot 1](assets/bot_1.png) | ![Bot 2](assets/bot_2.png) | ![Bot 3](assets/bot_3.png) |
  | **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** | **–£—Ç–∏–ª–∏—Ç—ã** | **–ù–æ–¥—ã** |
  | ![Bot 4](assets/bot_4.png) | ![Bot 5](assets/bot_5.png) | ![Bot 6](assets/bot_6.png) |

</details>

<details>
  <summary><b>üíª Web Dashboard (–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)</b></summary>

  | –î–∞—à–±–æ—Ä–¥ | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ |
  |:---:|:---:|
  | ![Web 1](assets/web_1.png) | ![Web 2](assets/web_2.png) |
  | **–ì—Ä–∞—Ñ–∏–∫–∏** | **–õ–æ–≥–∏** |
  | ![Web 3](assets/web_3.png) | ![Web 4](assets/web_4.png) |
  | **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** | **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** |
  | ![Web 5](assets/web_5.png) | ![Web 6](assets/web_6.png) |

  <p align="center">
    <b>üì± –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ / –Ø–∑—ã–∫–∏</b><br>
    <img src="assets/web_7.png" width="60%">
  </p>

</details>

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ VPS (–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç)

–¢—Ä–µ–±—É–µ—Ç—Å—è **Ubuntu 20.04+** (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥) –∏ `sudo` –¥–æ—Å—Ç—É–ø.

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

1.  –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤ **[@BotFather](https://t.me/BotFather)**.
2.  –£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π **User ID** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ [@userinfobot](https://t.me/userinfobot)).
3.  –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã `curl` –∏ `git`.

---

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –û—Å–Ω–æ–≤–Ω–æ–≥–æ –ë–æ—Ç–∞ (Master)

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
bash <(wget -qO- https://raw.githubusercontent.com/jatixs/tgbotvpscp/main/deploy.sh)
````

1.  –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º **Docker - Secure**).
2.  –í–≤–µ–¥–∏—Ç–µ **–¢–æ–∫–µ–Ω** –∏ **ID –∞–¥–º–∏–Ω–∞**.
3.  –ë–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∏ –æ—Ç–∫—Ä–æ–µ—Ç API-—Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É `8080`.

-----

### 3. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ù–æ–¥ (–ö–ª–∏–µ–Ω—Ç–æ–≤)

–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:

1.  **–í Telegram-–±–æ—Ç–µ:**
      * –ú–µ–Ω—é **üñ• –ù–æ–¥—ã** -> **‚ûï –î–æ–±–∞–≤–∏—Ç—å –ù–æ–¥—É**.
      * –í–≤–µ–¥–∏—Ç–µ –∏–º—è. –ë–æ—Ç –≤—ã–¥–∞—Å—Ç **–¢–æ–∫–µ–Ω**.
2.  **–ù–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ:**
      * –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–æ—Ç –∂–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
        ```bash
        bash <(wget -qO- https://raw.githubusercontent.com/jatixs/tgbotvpscp/main/deploy.sh)
        ```
      * –í—ã–±–µ—Ä–∏—Ç–µ **8) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ù–û–î–£ (–ö–ª–∏–µ–Ω—Ç)**.
      * –í–≤–µ–¥–∏—Ç–µ:
          * **URL –ê–≥–µ–Ω—Ç–∞:** –ê–¥—Ä–µ—Å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–æ—Ç–∞ (–Ω–∞–ø—Ä. `http://1.2.3.4:8080`).
          * **–¢–æ–∫–µ–Ω:** –ü–æ–ª—É—á–µ–Ω–Ω—ã–π –≤ –±–æ—Ç–µ.

–ê–≥–µ–Ω—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫–∞–∫ —Å–µ—Ä–≤–∏—Å `tg-node` –∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ –±–æ—Ç–µ.

-----

### üß∞ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

#### üïπ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏

| –î–µ–π—Å—Ç–≤–∏–µ | Systemd (–û–±—ã—á–Ω—ã–π) | Docker (–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã) |
| :--- | :--- | :--- |
| **–°—Ç–∞—Ç—É—Å –ë–æ—Ç–∞** | `sudo systemctl status tg-bot` | `docker compose -f /opt/tg-bot/docker-compose.yml ps` |
| **–°—Ç–∞—Ç—É—Å Watchdog** | `sudo systemctl status tg-watchdog` | *–ó–∞–ø—É—â–µ–Ω –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ watchdog* |
| **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ë–æ—Ç–∞** | `sudo systemctl restart tg-bot` | `docker compose -f /opt/tg-bot/docker-compose.yml restart bot-secure` (–∏–ª–∏ `bot-root`) |
| **–û—Å—Ç–∞–Ω–æ–≤–∫–∞** | `sudo systemctl stop tg-bot` | `docker compose -f /opt/tg-bot/docker-compose.yml stop` |
| **–ó–∞–ø—É—Å–∫** | `sudo systemctl start tg-bot` | `docker compose -f /opt/tg-bot/docker-compose.yml up -d` |

#### üìú –õ–æ–≥–∏ –∏ –û—Ç–ª–∞–¥–∫–∞

| –î–µ–π—Å—Ç–≤–∏–µ | Systemd | Docker |
| :--- | :--- | :--- |
| **–õ–æ–≥–∏ –ë–æ—Ç–∞ (Live)** | `sudo journalctl -u tg-bot -f` | `docker compose -f /opt/tg-bot/docker-compose.yml logs -f bot-secure` |
| **–õ–æ–≥–∏ Watchdog** | `sudo journalctl -u tg-watchdog -f` | `docker compose -f /opt/tg-bot/docker-compose.yml logs -f watchdog` |
| **–û—à–∏–±–∫–∏ (grep)** | `grep "ERROR" /opt/tg-bot/logs/bot/bot.log` | *–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ (—Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤ –ø—Ä–æ–±—Ä–æ—à–µ–Ω—ã –Ω–∞ —Ö–æ—Å—Ç)* |

#### üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

| –î–µ–π—Å—Ç–≤–∏–µ | –ö–æ–º–∞–Ω–¥–∞ (–í—ã–ø–æ–ª–Ω—è—Ç—å –≤ `/opt/tg-bot/`) |
| :--- | :--- |
| **–ë—ç–∫–∞–ø –ë–î** | `cp config/nodes.db config/nodes.db.bak_$(date +%F)` |
| **–†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** | `git pull && source venv/bin/activate && pip install -r requirements.txt && sudo systemctl restart tg-bot` |
| **–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è Web** | *–£–¥–∞–ª–∏—Ç–µ —Å—Ç—Ä–æ–∫—É `password_hash` —É –∞–¥–º–∏–Ω–∞ –≤ `config/users.json` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞* |

#### üñ• –î–ª—è –ù–æ–¥—ã (–ö–ª–∏–µ–Ω—Ç–∞)

| –î–µ–π—Å—Ç–≤–∏–µ | –ö–æ–º–∞–Ω–¥–∞ |
| :--- | :--- |
| **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫** | `sudo systemctl restart tg-node` |
| **–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–∞** | `sudo journalctl -u tg-node -f` |
| **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞** | `cat /opt/tg-bot/.env` |

*(–î–ª—è Docker Secure –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `bot-secure` –≤–º–µ—Å—Ç–æ `bot-root`)*

-----

## ‚öôÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/opt/tg-bot/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îú‚îÄ‚îÄ codeql.yml
‚îÇ       ‚îú‚îÄ‚îÄ gitleaks.yml
‚îÇ       ‚îú‚îÄ‚îÄ python-safety.yml
‚îÇ       ‚îú‚îÄ‚îÄ security.yml
‚îÇ       ‚îî‚îÄ‚îÄ trivy.yml
‚îú‚îÄ‚îÄ assets/                  # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–¥–ª—è README)
‚îÇ   ‚îú‚îÄ‚îÄ bot_1.png ...
‚îÇ   ‚îî‚îÄ‚îÄ web_1.png ...
‚îú‚îÄ‚îÄ core/                    # –Ø–¥—Ä–æ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ static/              # –°—Ç–∞—Ç–∏–∫–∞ –¥–ª—è Web-–ø–∞–Ω–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.css
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ style.css
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ common.js
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ dashboard.js
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ login.js
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ settings.js
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ theme_init.js
‚îÇ   ‚îú‚îÄ‚îÄ templates/           # HTML-—à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reset_password.html
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ settings.html
‚îÇ   ‚îú‚îÄ‚îÄ auth.py              # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–∞–≤–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)
‚îÇ   ‚îú‚îÄ‚îÄ i18n.py              # –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (RU/EN)
‚îÇ   ‚îú‚îÄ‚îÄ keyboards.py         # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã (Inline/Reply)
‚îÇ   ‚îú‚îÄ‚îÄ messaging.py         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ middlewares.py       # –ê–Ω—Ç–∏-—Å–ø–∞–º (Middleware)
‚îÇ   ‚îú‚îÄ‚îÄ models.py            # –ú–æ–¥–µ–ª–∏ –ë–î (Tortoise ORM)
‚îÇ   ‚îú‚îÄ‚îÄ nodes_db.py          # –ë–î –¥–ª—è –ù–æ–¥ (SQLite)
‚îÇ   ‚îú‚îÄ‚îÄ server.py            # –í–µ–±-—Å–µ—Ä–≤–µ—Ä (Aiohttp)
‚îÇ   ‚îú‚îÄ‚îÄ shared_state.py      # –°–æ—Å—Ç–æ—è–Ω–∏–µ (–∫—ç—à–∏)
‚îÇ   ‚îî‚îÄ‚îÄ utils.py             # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ modules/                 # –ú–æ–¥—É–ª–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ fail2ban.py
‚îÇ   ‚îú‚îÄ‚îÄ logs.py
‚îÇ   ‚îú‚îÄ‚îÄ nodes.py             # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–¥–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ notifications.py     # –ê–ª–µ—Ä—Ç—ã –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
‚îÇ   ‚îú‚îÄ‚îÄ optimize.py
‚îÇ   ‚îú‚îÄ‚îÄ reboot.py
‚îÇ   ‚îú‚îÄ‚îÄ restart.py
‚îÇ   ‚îú‚îÄ‚îÄ selftest.py
‚îÇ   ‚îú‚îÄ‚îÄ speedtest.py
‚îÇ   ‚îú‚îÄ‚îÄ sshlog.py
‚îÇ   ‚îú‚îÄ‚îÄ top.py
‚îÇ   ‚îú‚îÄ‚îÄ traffic.py
‚îÇ   ‚îú‚îÄ‚îÄ update.py
‚îÇ   ‚îú‚îÄ‚îÄ uptime.py
‚îÇ   ‚îú‚îÄ‚îÄ users.py
‚îÇ   ‚îú‚îÄ‚îÄ vless.py
‚îÇ   ‚îî‚îÄ‚îÄ xray.py
‚îú‚îÄ‚îÄ node/                    # –ê–≥–µ–Ω—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ node.py
‚îú‚îÄ‚îÄ .env.example             # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥–∞
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ aerich.ini               # –ö–æ–Ω—Ñ–∏–≥ –º–∏–≥—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ bot.py                   # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ CHANGELOG.md             # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (RU)
‚îú‚îÄ‚îÄ CHANGELOG.en.md          # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (EN)
‚îú‚îÄ‚îÄ custom_module.md         # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –°–≤–æ–π –º–æ–¥—É–ª—å (RU)
‚îú‚îÄ‚îÄ custom_module_en.md      # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –°–≤–æ–π –º–æ–¥—É–ª—å (EN)
‚îú‚îÄ‚îÄ deploy.sh                # –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ (RU)
‚îú‚îÄ‚îÄ deploy_en.sh             # –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ (EN)
‚îú‚îÄ‚îÄ docker-compose.yml       # Docker –∫–æ–Ω—Ñ–∏–≥
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ migrate.py               # –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ README.md                # –û–ø–∏—Å–∞–Ω–∏–µ (RU)
‚îú‚îÄ‚îÄ README.en.md             # –û–ø–∏—Å–∞–Ω–∏–µ (EN)
‚îú‚îÄ‚îÄ requirements.txt         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ watchdog.py              # Watchdog (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫)
```

-----

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

  * **–ò–∑–æ–ª—è—Ü–∏—è:** Secure-—Ä–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `tgbot`.
  * **–ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö:** SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Å–µ—Å—Å–∏–∏, Rate Limiter.
  * **–ó–∞—â–∏—Ç–∞ –æ—Ç –∏–Ω—ä–µ–∫—Ü–∏–π:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `shlex` –¥–ª—è —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥.
  * **–¢–æ–∫–µ–Ω—ã:** –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–¥—ã.

-----
## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

* üìñ **[–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π](ARCHITECTURE.md)** ‚Äî —É–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –±–æ—Ç –∏ –∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª.
* üß© **[–°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–µ–≥–æ –º–æ–¥—É–ª—è](custom_module.md)** ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–æ–≤—ã—Ö –∫–Ω–æ–ø–æ–∫ –∏ —Ñ—É–Ω–∫—Ü–∏–π.

-----
## üë§ –ê–≤—Ç–æ—Ä

**–í–µ—Ä—Å–∏—è:** 1.16.0 (Build 59) <br>
**–ê–≤—Ç–æ—Ä:** Jatix <br>
üìú **–õ–∏—Ü–µ–Ω–∑–∏—è:** GPL-3.0 <br>
