import json
import logging
import os
from aiogram import F
from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton
from . import config as core_config
from . import shared_state

STRINGS = {
    'ru': {
        "btn_back": "üîô –ù–∞–∑–∞–¥",
        "btn_cancel": "‚ùå –û—Ç–º–µ–Ω–∞",
        "btn_back_to_menu": "üîô –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é",
        "btn_confirm": "‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å",
        "status_enabled": "‚úÖ",
        "status_disabled": "‚ùå",
        "group_admins": "–ê–¥–º–∏–Ω—ã",
        "group_users": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏",
        "group_unknown": "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",
        "error_internal": "‚ö†Ô∏è –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞.",
        "error_unexpected": "‚ö†Ô∏è –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞.",
        "error_with_details": "‚ö†Ô∏è –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: {error}",
        "error_parsing_json": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞.\n<pre>{output}</pre>",
        "error_unexpected_json_parsing": "‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: {error}",
        "throttle_message": "‚è≥ –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ {seconds} —Å–µ–∫. –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º –¥–µ–π—Å—Ç–≤–∏–µ–º.",
        "main_menu_welcome": "üëã –ü—Ä–∏–≤–µ—Ç! –í—ã–±–µ—Ä–∏ –∫–æ–º–∞–Ω–¥—É –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ –Ω–∏–∂–µ. –ß—Ç–æ–±—ã –≤—ã–∑–≤–∞—Ç—å –º–µ–Ω—é —Å–Ω–æ–≤–∞, –∏—Å–ø–æ–ª—å–∑—É–π /menu.",
        "language_select": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —è–∑—ã–∫:",
        "language_selected": "‚úÖ –Ø–∑—ã–∫ —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ –†—É—Å—Å–∫–∏–π.",
        "btn_language": "üá∑üá∫ –Ø–∑—ã–∫",
        "main_menu_placeholder": "–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é –≤ –º–µ–Ω—é...",
        "access_denied_message": "‚õî –í—ã –Ω–µ —è–≤–ª—è–µ—Ç–µ—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –±–æ—Ç–∞. –í–∞—à ID: <code>{user_id}</code>.\n–ö –∫–æ–º–∞–Ω–¥–∞–º –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.",
        "access_denied_button": "üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–≤–æ–π ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É",
        "access_denied_generic": "‚õî –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω.",
        "access_denied_not_root": "‚õî –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ 'root'.",
        "access_denied_no_rights": "‚õî –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã.",
        "default_admin_name": "–ì–ª–∞–≤–Ω—ã–π –ê–¥–º–∏–Ω",
        "default_new_user_name": "–ù–æ–≤—ã–π_{uid}",
        "default_id_user_name": "ID: {uid}",
        "btn_selftest": "üõ† –°–≤–µ–¥–µ–Ω–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ",
        "btn_traffic": "üì° –¢—Ä–∞—Ñ–∏–∫ —Å–µ—Ç–∏",
        "btn_uptime": "‚è± –ê–ø—Ç–∞–π–º",
        "btn_speedtest": "üöÄ –°–∫–æ—Ä–æ—Å—Ç—å —Å–µ—Ç–∏",
        "btn_top": "üî• –¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤",
        "btn_xray": "ü©ª –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ X-ray",
        "btn_sshlog": "üìú SSH-–ª–æ–≥",
        "btn_fail2ban": "üîí Fail2Ban Log",
        "btn_logs": "üìú –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è",
        "btn_users": "üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏",
        "btn_vless": "üîó VLESS-—Å—Å—ã–ª–∫–∞",
        "btn_update": "üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ VPS",
        "btn_optimize": "‚ö°Ô∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è",
        "btn_restart": "‚ôªÔ∏è –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞",
        "btn_reboot": "üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞",
        "btn_notifications": "üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è",
        "btn_nodes": "üñ• –ù–æ–¥—ã",
        "btn_add_user": "‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
        "btn_delete_user": "‚ûñ –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
        "btn_change_group": "üîÑ –ò–∑–º–µ–Ω–∏—Ç—å –≥—Ä—É–ø–ø—É",
        "btn_my_id": "üÜî –ú–æ–π ID",
        "delete_user_button_text": "{user_name} ({group})",
        "delete_self_button_text": "‚ùå –£–¥–∞–ª–∏—Ç—å —Å–µ–±—è ({user_name}, {group})",
        "btn_group_admins": "üëë –ê–¥–º–∏–Ω—ã",
        "btn_group_users": "üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏",
        "btn_reboot_confirm": "‚úÖ –î–∞, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å",
        "btn_reboot_cancel": "‚ùå –ù–µ—Ç, –æ—Ç–º–µ–Ω–∞",
        "alerts_menu_res": "{status} –†–µ—Å—É—Ä—Å—ã (CPU/RAM/Disk)",
        "alerts_menu_logins": "{status} –í—Ö–æ–¥—ã SSH",
        "alerts_menu_bans": "{status} –ë–∞–Ω—ã (Fail2Ban)",
        "alerts_menu_downtime": "{status} –î–∞—É–Ω—Ç–∞–π–º –ù–æ–¥ (Offline)",
        "notifications_alert_name_downtime": "–î–∞—É–Ω—Ç–∞–π–º –ù–æ–¥",
        "alert_node_down": "üö® <b>–ê–õ–ï–†–¢: –ù–æ–¥–∞ '{name}' –ù–ï–î–û–°–¢–£–ü–ù–ê (Down)!</b>\n‚è± –ü–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç–∫–ª–∏–∫: {last_seen}",
        "alert_node_up": "‚úÖ <b>–ù–æ–¥–∞ '{name}' –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å (Up).</b>\nüü¢ –°–Ω–æ–≤–∞ –≤ —Å–µ—Ç–∏.",
        "alert_node_restarting": "üîµ <b>–ù–æ–¥–∞ '{name}' –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...</b>",
        "alert_node_cpu_high": "‚ö†Ô∏è <b>–ù–æ–¥–∞ '{name}': –í—ã—Å–æ–∫–∏–π CPU!</b>\n–ù–∞–≥—Ä—É–∑–∫–∞: <b>{usage}%</b> (–ü–æ—Ä–æ–≥: {threshold}%)",
        "alert_node_cpu_normal": "‚úÖ <b>–ù–æ–¥–∞ '{name}': CPU –≤ –Ω–æ—Ä–º–µ.</b>\n–ù–∞–≥—Ä—É–∑–∫–∞: <b>{usage}%</b>",
        "alert_node_ram_high": "‚ö†Ô∏è <b>–ù–æ–¥–∞ '{name}': –í—ã—Å–æ–∫–∞—è RAM!</b>\n–ó–∞–Ω—è—Ç–æ: <b>{usage}%</b> (–ü–æ—Ä–æ–≥: {threshold}%)",
        "alert_node_ram_normal": "‚úÖ <b>–ù–æ–¥–∞ '{name}': RAM –≤ –Ω–æ—Ä–º–µ.</b>\n–ó–∞–Ω—è—Ç–æ: <b>{usage}%</b>",
        "alert_node_disk_high": "‚ö†Ô∏è <b>–ù–æ–¥–∞ '{name}': –ú–∞–ª–æ –º–µ—Å—Ç–∞ (Disk)!</b>\n–ó–∞–Ω—è—Ç–æ: <b>{usage}%</b> (–ü–æ—Ä–æ–≥: {threshold}%)",
        "alert_node_disk_normal": "‚úÖ <b>–ù–æ–¥–∞ '{name}': –ú–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ –≤ –Ω–æ—Ä–º–µ.</b>\n–ó–∞–Ω—è—Ç–æ: <b>{usage}%</b>",
        "utils_vless_error": "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ VLESS-—Å—Å—ã–ª–∫–∏: {error}",
        "utils_docker_ps_error": "–ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å 'docker ps'. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω, –∏ —É –±–æ—Ç–∞ –µ—Å—Ç—å –ø—Ä–∞–≤–∞.\n<pre>{error}</pre>",
        "utils_bot_restarted": "‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω.",
        "utils_server_rebooted": "‚úÖ <b>–°–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω! –ë–æ—Ç —Å–Ω–æ–≤–∞ –≤ —Å–µ—Ç–∏.</b>",
        "alert_no_users_for_type": "–ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ —Ç–∏–ø–∞ '{alert_type}'.",
        "alert_sending_to_users": "–û—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–∞ —Ç–∏–ø–∞ '{alert_type}' {count} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º...",
        "alert_sent_to_users": "–ê–ª–µ—Ä—Ç —Ç–∏–ø–∞ '{alert_type}' –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω {count} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.",
        "watchdog_alert_prefix": "üö® –°–∏—Å—Ç–µ–º–∞ –æ–ø–æ–≤–µ—â–µ–Ω–∏–π (Alert):",
        "watchdog_log_read_error": "–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –ª–æ–≥–∞: {error}",
        "watchdog_log_error_found_details": "–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –û–®–ò–ë–ö–ê: {details}",
        "watchdog_log_error_found_generic": "–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –æ—à–∏–±–∫–∏ (ERROR/CRITICAL) –≤ –ª–æ–≥–µ",
        "watchdog_log_exception": "–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –ª–æ–≥–∞: {error}",
        "watchdog_status_active_ok": "–°–µ—Ä–≤–∏—Å <b>{bot_name}</b>: –ê–∫—Ç–∏–≤–µ–Ω üü¢",
        "watchdog_status_active_error": "–°–µ—Ä–≤–∏—Å <b>{bot_name}</b>: –ê–∫—Ç–∏–≤–µ–Ω —Å –æ—à–∏–±–∫–∞–º–∏ üü†\n\n<b>–î–µ—Ç–∞–ª–∏:</b> {details}\n\n–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `bot.log`.",
        "watchdog_status_active_log_fail": "–°–µ—Ä–≤–∏—Å <b>{bot_name}</b>: –ê–∫—Ç–∏–≤–µ–Ω üü¢ (–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å)",
        "watchdog_status_activating": "–°–µ—Ä–≤–∏—Å <b>{bot_name}</b>: –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è üü°",
        "watchdog_status_restarting_bot": "–°–µ—Ä–≤–∏—Å <b>{bot_name}</b>: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã üîµ",
        "watchdog_status_restarting_wd": "üö® –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–µ—Ä–≤–∏—Å '–°–∏—Å—Ç–µ–º–∞ –æ–ø–æ–≤–µ—â–µ–Ω–∏–π (Alert)' –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã üîµ.\n–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ: <b>{bot_name}</b>",
        "watchdog_status_down": "–°–µ—Ä–≤–∏—Å <b>{bot_name}</b>: –ù–µ–¥–æ—Å—Ç—É–ø–µ–Ω üî¥{reason}",
        "watchdog_status_down_reason": "–ü—Ä–∏—á–∏–Ω–∞",
        "watchdog_status_down_failed": "–°—Ç–∞—Ç—É—Å: failed",
        "watchdog_restart_fail": "‚ö†Ô∏è Alert-—Å–∏—Å—Ç–µ–º–∞ –ù–ï –°–ú–û–ì–õ–ê –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –¥–ª—è <b>{service_name}</b>. –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞.\n–û—à–∏–±–∫–∞: {error}",
        "watchdog_systemctl_not_found": "‚ö†Ô∏è <code>systemctl</code> –Ω–µ –Ω–∞–π–¥–µ–Ω. –ù–µ –º–æ–≥—É –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞.",
        "watchdog_check_error": "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞: {error}",
        "f2b_log_not_found": "‚ö†Ô∏è –§–∞–π–ª –ª–æ–≥–∞ Fail2Ban –Ω–µ –Ω–∞–π–¥–µ–Ω: <code>{path}</code>",
        "f2b_log_read_error": "–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª –ª–æ–≥–∞.",
        "f2b_banned": "–ë–∞–Ω",
        "f2b_already_banned": "–£–∂–µ –∑–∞–±–∞–Ω–µ–Ω",
        "f2b_header": "üîí <b>–ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ IP (Fail2Ban):</b>\n\n{log_output}",
        "f2b_no_bans": "üîí –ù–µ—Ç –Ω–µ–¥–∞–≤–Ω–∏—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ IP –≤ –ª–æ–≥–∞—Ö Fail2Ban (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 50 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å—Ç—Ä–æ–∫).",
        "f2b_read_error_generic": "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∂—É—Ä–Ω–∞–ª–∞ Fail2Ban: {error}",
        "f2b_ban_entry": "üîí <b>{ban_type}</b>\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ –í—Ä–µ–º—è: <b>{time}</b>{tz}\nüóìÔ∏è –î–∞—Ç–∞: <b>{date}</b>",
        "logs_header": "üìú <b>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∂—É—Ä–Ω–∞–ª—ã:</b>\n<pre>{log_output}</pre>",
        "logs_read_error": "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∂—É—Ä–Ω–∞–ª–æ–≤: {error}",
        "logs_docker_secure_not_available": "‚õî –ß—Ç–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–æ–≥–æ–≤ (journalctl) –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –≤ —Ä–µ–∂–∏–º–µ Docker (Secure) –∏–∑ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.",
        "logs_journalctl_not_found": "‚ö†Ô∏è –ö–æ–º–∞–Ω–¥–∞ <code>journalctl</code> –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –ú–æ–¥—É–ª—å '–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è' –Ω–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.",
        "logs_journalctl_not_found_in_host": "‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ <code>journalctl</code> –Ω–∞ —Ö–æ—Å—Ç–µ (/host/usr/bin/journalctl –∏–ª–∏ /host/bin/journalctl).",
        "notifications_menu_title": "üîî <b>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</b>\n\n–í—ã–±–µ—Ä–∏—Ç–µ, –∫–∞–∫–∏–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∞—Ç—å.",
        "notifications_toggle_alert": "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è '{alert_name}' {status}",
        "notifications_status_on": "‚úÖ –í–ö–õ–Æ–ß–ï–ù–´",
        "notifications_status_off": "‚ùå –û–¢–ö–õ–Æ–ß–ï–ù–´",
        "notifications_alert_name_res": "–†–µ—Å—É—Ä—Å—ã",
        "notifications_alert_name_logins": "–í—Ö–æ–¥—ã/–í—ã—Ö–æ–¥—ã SSH",
        "notifications_alert_name_bans": "–ë–∞–Ω—ã",
        "notifications_downtime_stub": "‚è≥ –§—É–Ω–∫—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –¥–∞—É–Ω—Ç–∞–π–º–µ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.\n–ü–æ–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, UptimeRobot).",
        "alert_ssh_login_detected": "üîî <b>–û–±–Ω–∞—Ä—É–∂–µ–Ω –≤—Ö–æ–¥ SSH</b>\n\nüë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <b>{user}</b>\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ –í—Ä–µ–º—è: <b>{time}</b>{tz}",
        "alert_f2b_ban_detected": "üõ°Ô∏è <b>Fail2Ban –∑–∞–±–∞–Ω–∏–ª IP</b>\n\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ –í—Ä–µ–º—è: <b>{time}</b>{tz}",
        "alert_cpu_high": "‚ö†Ô∏è <b>–ü—Ä–µ–≤—ã—à–µ–Ω –ø–æ—Ä–æ–≥ CPU!</b>\n–¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: <b>{usage:.1f}%</b> (–ü–æ—Ä–æ–≥: {threshold}%)",
        "alert_cpu_high_repeat": "‚ÄºÔ∏è <b>CPU –≤—Å–µ –µ—â–µ –í–´–°–û–ö–ò–ô!</b>\n–¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: <b>{usage:.1f}%</b> (–ü–æ—Ä–æ–≥: {threshold}%)",
        "alert_cpu_normal": "‚úÖ <b>–ù–∞–≥—Ä—É–∑–∫–∞ CPU –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–ª–∞—Å—å.</b>\n–¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: <b>{usage:.1f}%</b>",
        "alert_ram_high": "‚ö†Ô∏è <b>–ü—Ä–µ–≤—ã—à–µ–Ω –ø–æ—Ä–æ–≥ RAM!</b>\n–¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: <b>{usage:.1f}%</b> (–ü–æ—Ä–æ–≥: {threshold}%)",
        "alert_ram_high_repeat": "‚ÄºÔ∏è <b>RAM –≤—Å–µ –µ—â–µ –í–´–°–û–ö–ê–Ø!</b>\n–¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: <b>{usage:.1f}%</b> (–ü–æ—Ä–æ–≥: {threshold}%)",
        "alert_ram_normal": "‚úÖ <b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–ª–æ—Å—å.</b>\n–¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: <b>{usage:.1f}%</b>",
        "alert_disk_high": "‚ö†Ô∏è <b>–ü—Ä–µ–≤—ã—à–µ–Ω –ø–æ—Ä–æ–≥ Disk!</b>\n–¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: <b>{usage:.1f}%</b> (–ü–æ—Ä–æ–≥: {threshold}%)",
        "alert_disk_high_repeat": "‚ÄºÔ∏è <b>Disk –≤—Å–µ –µ—â–µ –í–´–°–û–ö–ò–ô!</b>\n–¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: <b>{usage:.1f}%</b> (–ü–æ—Ä–æ–≥: {threshold}%)",
        "alert_disk_normal": "‚úÖ <b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Disk –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–ª–æ—Å—å.</b>\n–¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: <b>{usage:.1f}%</b>",
        "optimize_start": "‚è≥ <b>–ó–∞–ø—É—Å–∫–∞—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é —Å–∏—Å—Ç–µ–º—ã...</b>\n\n–≠—Ç–æ –æ—á–µ–Ω—å –¥–æ–ª–≥–∏–π –ø—Ä–æ—Ü–µ—Å—Å (5-15 –º–∏–Ω—É—Ç).\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π—Ç–µ –±–æ—Ç–∞ –∏ –Ω–µ –≤—ã–∑—ã–≤–∞–π—Ç–µ –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã.",
        "optimize_success": "‚úÖ <b>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!</b>\n\n<b>–ü–æ—Å–ª–µ–¥–Ω–∏–µ 1000 —Å–∏–º–≤–æ–ª–æ–≤ –≤—ã–≤–æ–¥–∞ (–≤–∫–ª—é—á–∞—è sysctl):</b>\n<pre>{output}</pre>",
        "optimize_fail": "‚ùå <b>–û—à–∏–±–∫–∞ –≤–æ –≤—Ä–µ–º—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏!</b>\n\n<b>–ö–æ–¥ –≤–æ–∑–≤—Ä–∞—Ç–∞:</b> {code}\n<b>–í—ã–≤–æ–¥ STDOUT (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 1000):</b>\n<pre>{stdout}</pre>\n<b>–í—ã–≤–æ–¥ STDERR (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 2000):</b>\n<pre>{stderr}</pre>",
        "reboot_confirm_prompt": "‚ö†Ô∏è –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ <b>–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–µ—Ä</b>? –í—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –±—É–¥—É—Ç —Ä–∞–∑–æ—Ä–≤–∞–Ω—ã.",
        "reboot_confirmed": "‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ. <b>–ó–∞–ø—É—Å–∫–∞—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É VPS</b>...",
        "reboot_error": "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∫–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏: {error}",
        "restart_start": "‚ôªÔ∏è –ë–æ—Ç —É—Ö–æ–¥–∏—Ç –Ω–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫‚Ä¶",
        "restart_error": "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞: {error}",
        "selftest_gathering_info": "üîç –°–æ–±–∏—Ä–∞—é —Å–≤–µ–¥–µ–Ω–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ...",
        "selftest_error": "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±–æ—Ä–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: {error}",
        "selftest_inet_ok": "‚úÖ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω",
        "selftest_inet_fail": "‚ùå –ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞",
        "selftest_ip_fail": "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å",
        "selftest_ssh_source": "(–∏–∑ {source})",
        "selftest_ssh_source_journal": "(–∏–∑ journalctl)",
        "selftest_ssh_header": "\n\nüìÑ <b>–ü–æ—Å–ª–µ–¥–Ω–∏–π SSH-–≤—Ö–æ–¥{source}:</b>\n",
        "selftest_ssh_entry": "üë§ <b>{user}</b>\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ –í—Ä–µ–º—è: <b>{time}</b>{tz}\nüóìÔ∏è –î–∞—Ç–∞: <b>{date}</b>",
        "selftest_ssh_parse_fail": "–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–æ–±—Ä–∞—Ç—å —Å—Ç—Ä–æ–∫—É –ª–æ–≥–∞.",
        "selftest_ssh_not_found": "–ù–µ –Ω–∞–π–¥–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π.",
        "selftest_ssh_read_error": "‚è≥ –û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –ª–æ–≥–æ–≤: {error}",
        "selftest_ssh_root_only": "\n\nüìÑ <b>–ü–æ—Å–ª–µ–¥–Ω–∏–π SSH-–≤—Ö–æ–¥:</b>\n<i>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ root</i>",
        "selftest_results_header": "üõ† <b>–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞:</b>\n\n",
        "selftest_results_body": "‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç\nüìä –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä: <b>{cpu:.1f}%</b>\nüíæ –û–ó–£: <b>{mem:.1f}%</b>\nüíΩ –ü–ó–£: <b>{disk:.1f}%</b>\n‚è± –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: <b>{uptime}</b>\n{inet_status}\n‚åõ –ó–∞–¥–µ—Ä–∂–∫–∞ (8.8.8.8): <b>{ping} –º—Å</b>\nüåê –í–Ω–µ—à–Ω–∏–π IP: <code>{ip}</code>\nüì° –¢—Ä–∞—Ñ–∏–∫ ‚¨á <b>{rx}</b> / ‚¨Ü <b>{tx}</b>",
        "speedtest_start": "üöÄ <b>–ó–∞–ø—É—Å–∫ iperf3...</b>\n\n–ò—â—É –±–ª–∏–∂–∞–π—à–∏–π —Å–µ—Ä–≤–µ—Ä. –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –¥–æ 30-40 —Å–µ–∫—É–Ω–¥.",
        "speedtest_results": "üöÄ <b>Speedtest –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (iperf3):</b>\n\n‚¨áÔ∏è <b>–°–∫–∞—á–∏–≤–∞–Ω–∏–µ:</b> {dl:.2f} –ú–±–∏—Ç/—Å\n‚¨ÜÔ∏è <b>–ó–∞–≥—Ä—É–∑–∫–∞:</b> {ul:.2f} –ú–±–∏—Ç/—Å\n‚è±Ô∏è <b>–ü–∏–Ω–≥:</b> {ping:.2f} –º—Å\n\nüåç <b>–õ–æ–∫–∞—Ü–∏—è:</b> {flag} {server}\nüè¢ <b>–°–µ—Ä–≤–µ—Ä:</b> {provider}",
        "speedtest_fail": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ iperf3:\n<pre>{error}</pre>",
        "iperf_fetch_error": "‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤ iperf3.",
        "iperf_fetch_error_ru": "‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ iperf3.",
        "iperf_parse_error_ru": "‚ö†Ô∏è –û—à–∏–±–∫–∞ —Ä–∞–∑–±–æ—Ä–∞ —Å–ø–∏—Å–∫–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ iperf3 (YAML).",
        "iperf_no_servers": "‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ iperf3.",
        "iperf_not_found": "–û—à–∏–±–∫–∞: <b>iperf3</b> –Ω–µ –Ω–∞–π–¥–µ–Ω.\n–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ: <code>sudo apt install iperf3</code>",
        "iperf_timeout": "–û—à–∏–±–∫–∞: –¢–µ—Å—Ç iperf3 –ø—Ä–µ–≤—ã—Å–∏–ª —Ç–∞–π–º–∞—É—Ç (—Å–µ—Ä–≤–µ—Ä {host} –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç).",
        "iperf_conn_error_generic": "‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ <b>{host}</b>. –ü–æ–ø—ã—Ç–∫–∞ –¥—Ä—É–≥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞...",
        "speedtest_status_geo": "üåç –û–ø—Ä–µ–¥–µ–ª—è—é –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é VPS...",
        "speedtest_status_fetch": "üì• –ó–∞–≥—Ä—É–∂–∞—é —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤...",
        "speedtest_status_fetch_ru": "üì• –ó–∞–≥—Ä—É–∂–∞—é —Å–ø–∏—Å–æ–∫ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤...",
        "speedtest_status_ping": "‚è±Ô∏è –ò—â—É –ª—É—á—à–∏–π —Å–µ—Ä–≤–µ—Ä –ø–æ –ø–∏–Ω–≥—É ({count} —à—Ç.)...",
        "speedtest_status_testing": "üöÄ –¢–µ—Å—Ç–∏—Ä—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –Ω–∞ <b>{host}</b> ({ping} –º—Å)...",
        "speedtest_status_downloading": "üöÄ –¢–µ—Å—Ç–∏—Ä—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –Ω–∞ <b>{host}</b> ({ping} –º—Å)... ‚¨áÔ∏è –°–∫–∞—á–∏–≤–∞–Ω–∏–µ...",
        "speedtest_status_uploading": "üöÄ –¢–µ—Å—Ç–∏—Ä—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –Ω–∞ <b>{host}</b> ({ping} –º—Å)... ‚¨ÜÔ∏è –ó–∞–≥—Ä—É–∑–∫–∞...",
        "error_message_edit_failed": "–û–®–ò–ë–ö–ê: –ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.",
        "iperf_all_attempts_failed": "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–æ—Å–ª–µ {attempts} –ø–æ–ø—ã—Ç–æ–∫.",
        "sshlog_searching": "üîç –ò—â—É –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–æ–±—ã—Ç–∏–π SSH (–≤—Ö–æ–¥/–ø—Ä–æ–≤–∞–ª)...",
        "sshlog_header": "üîê <b>–ü–æ—Å–ª–µ–¥–Ω–∏–µ {count} —Å–æ–±—ã—Ç–∏–π SSH{source}:</b>\n\n{log_output}",
        "sshlog_not_found": "üîê –ù–µ –Ω–∞–π–¥–µ–Ω–æ —Å–æ–±—ã—Ç–∏–π SSH (–≤—Ö–æ–¥/–ø—Ä–æ–≤–∞–ª){source}.",
        "sshlog_read_error": "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∂—É—Ä–Ω–∞–ª–∞ SSH: {error}",
        "sshlog_entry_success": "‚úÖ <b>–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥</b>\nüë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <b>{user}</b>\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ {time}{tz} ({date})",
        "sshlog_entry_invalid_user": "‚ùå <b>–ù–µ–≤–µ—Ä–Ω—ã–π —é–∑–µ—Ä</b>\nüë§ –ü–æ–ø—ã—Ç–∫–∞: <b>{user}</b>\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ {time}{tz} ({date})",
        "sshlog_entry_wrong_pass": "‚ùå <b>–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å</b>\nüë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <b>{user}</b>\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ {time}{tz} ({date})",
        "sshlog_entry_fail_pam": "‚ùå <b>–ü—Ä–æ–≤–∞–ª (PAM)</b>\nüë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <b>{user}</b>\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ {time}{tz} ({date})",
        "top_header": "üî• <b>–¢–æ–ø 10 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ –∑–∞–≥—Ä—É–∑–∫–µ CPU:</b>\n<pre>{output}</pre>",
        "top_fail": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:\n<pre>{error}</pre>",
        "traffic_stop": "‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞—Ñ–∏–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.",
        "traffic_menu_return": "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:",
        "traffic_start": "üì° <b>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞—Ñ–∏–∫–∞</b>\n\n<i>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ {interval} —Å–µ–∫—É–Ω–¥.</i>",
        "traffic_start_fail": "‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞—Ñ–∏–∫–∞: {error}",
        "traffic_update_total": "üì° –û–±—â–∏–π —Ç—Ä–∞—Ñ–∏–∫:",
        "traffic_update_speed": "‚ö°Ô∏è –°–∫–æ—Ä–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:",
        "traffic_rx": "‚¨áÔ∏è RX: {value}",
        "traffic_tx": "‚¨ÜÔ∏è TX: {value}",
        "traffic_speed_rx": "‚¨áÔ∏è RX: {speed:.2f} –ú–±–∏—Ç/—Å",
        "traffic_speed_tx": "‚¨ÜÔ∏è TX: {speed:.2f} –ú–±–∏—Ç/—Å",
        "btn_stop_traffic": "‚èπ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å",
        "traffic_stopped_alert": "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞—Ñ–∏–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.",
        "update_start": "üîÑ –í—ã–ø–æ–ª–Ω—è—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ VPS... –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç.",
        "update_success": "‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ:\n<pre>{output}</pre>",
        "update_fail": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ (–ö–æ–¥: {code}):\n<pre>{error}</pre>",
        "uptime_text": "‚è± –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: <b>{uptime}</b>",
        "uptime_fail": "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∞–ø—Ç–∞–π–º–∞: {error}",
        "vless_prompt_file": "üì§ <b>–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Xray (JSON)</b>\n\n<i>–í–∞–∂–Ω–æ: —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ä–∞–±–æ—á—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é outbound —Å Reality.</i>",
        "vless_error_not_json": "‚õî <b>–û—à–∏–±–∫–∞:</b> –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–æ—Ä–º–∞—Ç–∞ <code>.json</code>.\n\n–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª –µ—â–µ —Ä–∞–∑.",
        "vless_prompt_name": "‚úÖ –§–∞–π–ª JSON –ø–æ–ª—É—á–µ–Ω.\n\n–¢–µ–ø–µ—Ä—å <b>–≤–≤–µ–¥–∏—Ç–µ –∏–º—è</b> –¥–ª—è —ç—Ç–æ–π VLESS-—Å—Å—ã–ª–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'My_Server_1'):",
        "vless_error_file_processing": "‚ö†Ô∏è –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ñ–∞–π–ª–∞: {error}",
        "vless_error_no_json_session": "‚ö†Ô∏è –û—à–∏–±–∫–∞: –î–∞–Ω–Ω—ã–µ JSON –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ —Å–µ—Å—Å–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞.",
        "vless_success_caption": "‚úÖ –í–∞—à–∞ VLESS-—Å—Å—ã–ª–∫–∞ —Å –∏–º–µ–Ω–µ–º '<b>{name}</b>' –≥–æ—Ç–æ–≤–∞:\n\n<code>{url}</code>",
        "vless_menu_return": "üè† –í–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.",
        "vless_error_not_file": "‚õî –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ <b>–¥–æ–∫—É–º–µ–Ω—Ç</b> (—Ñ–∞–π–ª), –∞ –Ω–µ —Ç–µ–∫—Å—Ç.",
        "vless_error_not_text": "‚õî –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ <b>—Ç–µ–∫—Å—Ç–æ–≤–æ–µ –∏–º—è</b>.",
        "xray_detecting": "üîç –û–ø—Ä–µ–¥–µ–ª—è—é —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç Xray...",
        "xray_detect_fail": "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∫–ª–∏–µ–Ω—Ç Xray (Marzban, Amnezia). –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.",
        "xray_detected_start_update": "‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω: <b>{client}</b> (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: <code>{container}</code>). –ù–∞—á–∏–Ω–∞—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ...",
        "xray_update_error": "–ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è {client} –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π:\n<pre>{error}</pre>",
        "xray_update_success": "‚úÖ Xray –¥–ª—è <b>{client}</b> —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω –¥–æ –≤–µ—Ä—Å–∏–∏ <b>{version}</b>",
        "xray_error_generic": "‚ö†Ô∏è <b>–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Xray:</b>\n\n{error}",
        "xray_version_unknown": "–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π",
        "users_menu_header": "üë§ <b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</b>:\n\n{user_list}\n\n–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:",
        "users_list_empty": "–î—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ—Ç.",
        "my_id_text": "–í–∞—à ID: <code>{user_id}</code>\n\n<i>(–≠—Ç–∞ –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –µ–µ –≤ –º–µ–Ω—é 'üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏')</i>",
        "my_id_inline_text": "–í–∞—à ID: <code>{user_id}</code>",
        "users_already_here": "–í—ã —É–∂–µ –∑–¥–µ—Å—å.",
        "users_add_title": "‚ûï <b>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</b>\n\n–í–≤–µ–¥–∏—Ç–µ Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:",
        "users_add_exists": "‚ö†Ô∏è –≠—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω.",
        "users_add_group_prompt": "–û—Ç–ª–∏—á–Ω–æ. –¢–µ–ø–µ—Ä—å –≤—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:",
        "users_add_invalid_id": "‚õî –ù–µ–≤–µ—Ä–Ω—ã–π ID. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ–≤–æ–π Telegram ID.",
        "users_add_fsm_error": "‚ö†Ô∏è –û—à–∏–±–∫–∞: –ù–µ –Ω–∞–π–¥–µ–Ω ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ FSM.",
        "users_add_success": "‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å <b>{user_name}</b> (<code>{user_id}</code>) —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É <b>{group}</b>.",
        "users_delete_title": "‚ûñ <b>–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</b>\n\n–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è:",
        "users_delete_cant_admin": "‚õî –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –ì–ª–∞–≤–Ω–æ–≥–æ –ê–¥–º–∏–Ω–∞.",
        "users_delete_not_found": "‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω.",
        "users_delete_success_text": "‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å <b>{user_name}</b> —É–¥–∞–ª–µ–Ω.\n\n–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è:",
        "users_delete_success_alert": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {user_name} —É–¥–∞–ª–µ–Ω.",
        "users_delete_self_prompt": "‚ö†Ô∏è <b>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å–µ–±—è –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–æ—Ç–∞?</b>\n–í—ã –ø–æ—Ç–µ—Ä—è–µ—Ç–µ –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º.",
        "users_delete_self_id_mismatch": "‚õî –û—à–∏–±–∫–∞: ID –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç.",
        "users_delete_self_success": "‚úÖ –í—ã —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω—ã –∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–æ—Ç–∞.",
        "users_change_group_title": "üîÑ <b>–ò–∑–º–µ–Ω–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã</b>\n\n–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:",
        "users_change_group_invalid": "‚ö†Ô∏è –ù–µ–≤–µ—Ä–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–ª–∏ –ì–ª–∞–≤–Ω—ã–π –ê–¥–º–∏–Ω.",
        "users_change_group_prompt": "–í—ã–±—Ä–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <b>{user_name}</b>\n–¢–µ–∫—É—â–∞—è –≥—Ä—É–ø–ø–∞: <b>{group}</b>\n\n–í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É:",
        "users_change_group_success_text": "‚úÖ –ì—Ä—É–ø–ø–∞ –¥–ª—è <b>{user_name}</b> –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞ <b>{group}</b>.\n\n–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:",
        "users_change_group_success_alert": "–ì—Ä—É–ø–ø–∞ –¥–ª—è {user_name} –∏–∑–º–µ–Ω–µ–Ω–∞.",
        "unit_bytes": "–ë",
        "unit_kb": "–ö–ë",
        "unit_mb": "–ú–ë",
        "unit_gb": "–ì–ë",
        "unit_tb": "–¢–ë",
        "unit_pb": "–ü–ë",
        "unit_year_short": "–≥",
        "unit_day_short": "–¥",
        "unit_hour_short": "—á",
        "unit_minute_short": "–º",
        "unit_second_short": "—Å",
        "start_support_message": "–≠—Ç–æ open-source –ø—Ä–æ–µ–∫—Ç, –∞–≤—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ <a href=\"https://t.me/faridshykhaliev\">@faridshykhaliev</a>. –ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∞–≤—Ç–æ—Ä–∞. –≠—Ç–æ –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –∞–≤—Ç–æ—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–∑–≤–∏–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç.",
        "start_support_button": " ‚ù§Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞",
        "nodes_menu_header": "üñ• <b>–°–ø–∏—Å–æ–∫ –≤–∞—à–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ (–ù–æ–¥):</b>\n\n–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª–µ–π –∏–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ:",
        "node_status_active": "–ê–∫—Ç–∏–≤–µ–Ω üü¢",
        "node_status_offline": "–ù–µ –≤ —Å–µ—Ç–∏ üî¥",
        "node_status_restarting": "–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è üîµ",
        "node_last_seen": "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: {time}",
        "node_details_offline": "üî¥ <b>–°–µ—Ä–≤–µ—Ä: {name}</b>\n–°—Ç–∞—Ç—É—Å: <b>–ù–µ –≤ —Å–µ—Ç–∏</b>\n–ü–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç–∫–ª–∏–∫: <b>{last_seen}</b>\nIP: {ip}\n\nüìä <b>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</b>\nCPU: {cpu}%\nRAM: {ram}%\nDisk: {disk}%",
        "node_restarting_alert": "üîµ –°–µ—Ä–≤–µ—Ä '{name}' –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã.",
        "node_management_menu": "üü¢ <b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º: {name}</b>\nIP: {ip}\nUptime: {uptime}\n\n–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:",
        "node_cmd_sent": "–ö–æ–º–∞–Ω–¥–∞ '{cmd}' –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä '{name}'.",
        "node_btn_add": "‚ûï –î–æ–±–∞–≤–∏—Ç—å –ù–æ–¥—É",
        "node_btn_delete": "‚ûñ –£–¥–∞–ª–∏—Ç—å –ù–æ–¥—É",
        "node_add_success_token": "‚úÖ <b>–ù–æ–¥–∞ —Å–æ–∑–¥–∞–Ω–∞!</b>\n\n–ò–º—è: <b>{name}</b>\n–¢–æ–∫–µ–Ω: <code>{token}</code>\n\n–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –∏ —É–∫–∞–∂–∏—Ç–µ –µ–≥–æ –≤ .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ-–Ω–æ–¥–µ (AGENT_TOKEN).",
        "node_delete_select": "üóë <b>–£–¥–∞–ª–µ–Ω–∏–µ –Ω–æ–¥—ã</b>\n\n–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å:",
        "node_deleted": "‚úÖ –ù–æ–¥–∞ '{name}' —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞.",
        "node_traffic_stopped_alert": "‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ –Ω–æ–¥–µ '{name}' –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.",

        # --- WEB INTERFACE ---
        "web_title": "Web-–∞–≥–µ–Ω—Ç –ë–æ—Ç–∞",
        "web_dashboard_title": "–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è",
        "web_agent_stats_title": "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–ê–≥–µ–Ω—Ç)",
        "web_stats_total": "–í—Å–µ–≥–æ –ù–æ–¥",
        "web_stats_active": "–ê–∫—Ç–∏–≤–Ω—ã–µ –ù–æ–¥—ã",
        "web_footer_endpoint": "–≠–Ω–¥–ø–æ–∏–Ω—Ç",
        "web_footer_powered": "–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞",
        "web_traffic_total": "–û–±—â–∏–π —Ç—Ä–∞—Ñ–∏–∫",
        "web_uptime": "–ê–ø—Ç–∞–π–º",
        "web_cpu": "CPU",
        "web_ram": "RAM",
        "web_disk": "–î–∏—Å–∫",
        "web_rx": "‚Üì –ü—Ä–∏–Ω—è—Ç–æ",
        "web_tx": "‚Üë –û—Ç–¥–∞–Ω–æ",
        "web_admin_panel": "–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞",
        "web_admin_desc": "–î–æ—Å—Ç—É–ø–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç—å—é.",
        "web_logs_button": "–õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã",
        "web_settings_button": "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
        "web_node_mgmt_title": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ù–æ–¥–∞–º–∏",
        "web_node_details_title": "–î–µ—Ç–∞–ª–∏ –ù–æ–¥—ã",
        "web_token_label": "–¢–æ–∫–µ–Ω –ù–æ–¥—ã",
        "web_copied": "–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!",
        "web_resources_chart": "–†–µ—Å—É—Ä—Å—ã (%)",
        "web_network_chart": "–°–µ—Ç—å (KB/s)",
        "web_logs_title": "–°–∏—Å—Ç–µ–º–Ω—ã–µ –õ–æ–≥–∏",
        "web_refresh": "–û–±–Ω–æ–≤–∏—Ç—å",
        "web_loading": "–ó–∞–≥—Ä—É–∑–∫–∞...",
        "web_logs_footer": "–ü–æ–∫–∞–∑–∞–Ω—ã –ø–æ—Å–ª–µ–¥–Ω–∏–µ 300 —Å—Ç—Ä–æ–∫",
        "web_nodes_loading": "–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ –Ω–æ–¥–∞—Ö...",
        "web_no_nodes": "–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –Ω–æ–¥",
        "web_details_hidden": "–î–µ—Ç–∞–ª–∏ —Å–∫—Ä—ã—Ç—ã",
        "web_log_empty": "–õ–æ–≥ –ø—É—Å—Ç",
        "web_access_denied": "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω",
        "web_error": "–û—à–∏–±–∫–∞: {error}",
        "web_conn_error": "–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: {error}",
        "web_settings_page_title": "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
        "web_back": "–ù–∞–∑–∞–¥",
        "web_notif_section": "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è",
        "web_users_section": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏",
        "web_add_user_btn": "–î–æ–±–∞–≤–∏—Ç—å",
        "web_add_node_section": "–î–æ–±–∞–≤–∏—Ç—å –ù–æ–¥—É",
        "web_save_btn": "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",
        "web_saved_btn": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!",
        "web_saving_btn": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...",
        "web_create_btn": "–°–æ–∑–¥–∞—Ç—å",
        "web_user_id": "ID",
        "web_user_name": "–ò–º—è",
        "web_user_role": "–†–æ–ª—å",
        "web_user_action": "–î–µ–π—Å—Ç–≤–∏–µ",
        "web_confirm_delete_user": "–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {id}?",
        "web_node_name_placeholder": "–ò–º—è —Å–µ—Ä–≤–µ—Ä–∞",
        "web_node_token": "–¢–æ–∫–µ–Ω (—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ):",
        "web_node_cmd": "–ö–æ–º–∞–Ω–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:",
        "web_sys_settings_section": "–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏",
        "web_thresholds_title": "–ü–æ—Ä–æ–≥–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (%)",
        "web_intervals_title": "–ò–Ω—Ç–µ—Ä–≤–∞–ª—ã (—Å–µ–∫)",
        "web_logs_mgmt_title": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∞–º–∏",
        "web_cpu_threshold": "–õ–∏–º–∏—Ç CPU",
        "web_ram_threshold": "–õ–∏–º–∏—Ç RAM",
        "web_disk_threshold": "–õ–∏–º–∏—Ç Disk",
        "web_traffic_interval": "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¢—Ä–∞—Ñ–∏–∫–∞",
        "web_node_timeout": "–¢–∞–π–º–∞—É—Ç –ù–æ–¥—ã (Offline)",
        "web_clear_logs_btn": "–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏",
        "web_clear_logs_confirm": "–í—ã —É–≤–µ—Ä–µ–Ω—ã? –≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤ –±–æ—Ç–∞ –∏ watchdog.",
        "web_logs_cleared": "–õ–æ–≥–∏ —É—Å–ø–µ—à–Ω–æ –æ—á–∏—â–µ–Ω—ã.",
        "web_no_users": "–ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
        "error_traffic_interval_low": "–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ –±–æ—Ç–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ 5 —Å–µ–∫—É–Ω–¥.",
        "error_traffic_interval_high": "–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ 100 —Å–µ–∫—É–Ω–¥.",
        "web_logs_clearing": "–û—á–∏—Å—Ç–∫–∞...",
        "web_security_section": "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
        "web_change_password_title": "–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è Web-–ø–∞–Ω–µ–ª–∏",
        "web_current_password": "–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å",
        "web_new_password": "–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å",
        "web_confirm_password": "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",
        "web_change_btn": "–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å",
        "web_pass_changed": "–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω!",
        "web_pass_mismatch": "–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç",
        "web_login_header": "<b>üîê –í—Ö–æ–¥ –≤ Web-–ø–∞–Ω–µ–ª—å</b>",
        "web_login_btn": "üîì –í–æ–π—Ç–∏",
        "web_reset_header": "<b>üÜò –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è</b>",
        "web_reset_btn": "üîê –°–±—Ä–æ—Å–∏—Ç—å",
        "web_pass_wrong_current": "–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å",
        "web_hint_cpu_threshold": "–ü—Ä–æ—Ü–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CPU, –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–º–∏–Ω–∏–º—É–º 50%).",
        "web_hint_ram_threshold": "–ü—Ä–æ—Ü–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è RAM, –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–º–∏–Ω–∏–º—É–º 50%).",
        "web_hint_disk_threshold": "–ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –¥–∏—Å–∫–∞, –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–º–∏–Ω–∏–º—É–º 50%).",
        "web_hint_traffic_interval": "–ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Ç–µ–∫—É—â–µ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ Telegram (–º–∏–Ω–∏–º—É–º 5 —Å–µ–∫).",
        "web_hint_node_timeout": "–í—Ä–µ–º—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ù–æ–¥–∞ (—É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä) –±–µ–∑ –æ—Ç–≤–µ—Ç–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ—Ñ—Ñ–ª–∞–π–Ω –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–ª–µ—Ä—Ç (–º–∏–Ω–∏–º—É–º 20 —Å–µ–∫).",
        "web_hint_cpu_usage": "–¢–µ–∫—É—â–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä.",
        "web_hint_ram_usage": "–¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏.",
        "web_hint_disk_usage": "–¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞.",
        "web_hint_traffic_in": "–°—É–º–º–∞—Ä–Ω—ã–π –æ–±—ä–µ–º –ø—Ä–∏–Ω—è—Ç–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞.",
        "web_hint_traffic_out": "–°—É–º–º–∞—Ä–Ω—ã–π –æ–±—ä–µ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞.",
        "web_default_pass_alert": "‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ! –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å ('admin'). –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–º–µ–Ω–∏—Ç—å –µ–≥–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.",
        "web_logs_cleared_alert": "–û—á–∏—â–µ–Ω–æ!",
        "web_pass_wrong_current": "–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å",
        "web_default_pass_alert": "‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ! –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å ('admin'). –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–º–µ–Ω–∏—Ç—å –µ–≥–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.",

        # --- FORGOT PASSWORD ---
        "login_forgot_pass": "–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?",
        "login_reset_title": "–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è",
        "login_reset_desc": "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à Telegram ID. –ú—ã –æ—Ç–ø—Ä–∞–≤–∏–º —Å—Å—ã–ª–∫—É –¥–ª—è —Å–±—Ä–æ—Å–∞ –≤–∞–º –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.",
        "login_btn_send_link": "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É",
        "login_btn_contact_admin": "–ù–∞–ø–∏—Å–∞—Ç—å –ê–¥–º–∏–Ω—É",
        "login_error_user_not_found": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ.",
        "login_link_sent_title": "–°—Å—ã–ª–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!",
        "login_link_sent_desc": "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –±–æ—Ç–∞ –≤ Telegram.",
        "reset_page_title": "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è",
        "reset_btn_set": "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å",
        "reset_success_title": "–ü–∞—Ä–æ–ª—å –∏–∑–º–µ–Ω–µ–Ω!",
        "reset_success_desc": "–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ —Å –Ω–æ–≤—ã–º –ø–∞—Ä–æ–ª–µ–º.",
        "reset_token_expired": "–°—Å—ã–ª–∫–∞ —É—Å—Ç–∞—Ä–µ–ª–∞ –∏–ª–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞."
    },
    'en': {
        "btn_back": "üîô Back",
        "btn_cancel": "‚ùå Cancel",
        "btn_back_to_menu": "üîô Back to menu",
        "btn_confirm": "‚úÖ Confirm",
        "status_enabled": "‚úÖ",
        "status_disabled": "‚ùå",
        "group_admins": "Admins",
        "group_users": "Users",
        "group_unknown": "Unknown",
        "error_internal": "‚ö†Ô∏è Internal error.",
        "error_unexpected": "‚ö†Ô∏è An error occurred.",
        "error_with_details": "‚ö†Ô∏è An error occurred: {error}",
        "error_parsing_json": "‚ùå Error processing results: Invalid response format.\n<pre>{output}</pre>",
        "error_unexpected_json_parsing": "‚ùå Unexpected error processing results: {error}",
        "throttle_message": "‚è≥ Please wait {seconds} sec. before the next action.",
        "main_menu_welcome": "üëã Hi! Choose a command from the keyboard below. To show this menu again, use /menu.",
        "language_select": "Please select your language:",
        "language_selected": "‚úÖ Language successfully changed to English.",
        "btn_language": "üá¨üáß Language",
        "main_menu_placeholder": "Select an option from the menu...",
        "access_denied_message": "‚õî You are not an authorized user of this bot. Your ID: <code>{user_id}</code>.\nAccess to commands is denied. Please contact the administrator.",
        "access_denied_button": "üì§ Send your ID to the administrator",
        "access_denied_generic": "‚õî Access denied.",
        "access_denied_not_root": "‚õî This feature is only available in 'root' mode.",
        "access_denied_no_rights": "‚õî You do not have permission to execute this command.",
        "default_admin_name": "Main Admin",
        "default_new_user_name": "New_{uid}",
        "default_id_user_name": "ID: {uid}",
        "btn_selftest": "üõ† Server Info",
        "btn_traffic": "üì° Network Traffic",
        "btn_uptime": "‚è± Uptime",
        "btn_speedtest": "üöÄ Speedtest",
        "btn_top": "üî• Top Processes",
        "btn_xray": "ü©ª Update X-ray",
        "btn_sshlog": "üìú SSH Log",
        "btn_fail2ban": "üîí Fail2Ban Log",
        "btn_logs": "üìú Recent Events",
        "btn_users": "üë§ Users",
        "btn_vless": "üîó VLESS Link",
        "btn_update": "üîÑ Update VPS",
        "btn_optimize": "‚ö°Ô∏è Optimize",
        "btn_restart": "‚ôªÔ∏è Restart Bot",
        "btn_reboot": "üîÑ Reboot Server",
        "btn_notifications": "üîî Notifications",
        "btn_nodes": "üñ• Nodes",
        "btn_add_user": "‚ûï Add User",
        "btn_delete_user": "‚ûñ Delete User",
        "btn_change_group": "üîÑ Change Group",
        "btn_my_id": "üÜî My ID",
        "delete_user_button_text": "{user_name} ({group})",
        "delete_self_button_text": "‚ùå Delete myself ({user_name}, {group})",
        "btn_group_admins": "üëë Admins",
        "btn_group_users": "üë§ Users",
        "btn_reboot_confirm": "‚úÖ Yes, reboot",
        "btn_reboot_cancel": "‚ùå No, cancel",
        "alerts_menu_res": "{status} Resources (CPU/RAM/Disk)",
        "alerts_menu_logins": "{status} SSH Logins",
        "alerts_menu_bans": "{status} Bans (Fail2Ban)",
        "alerts_menu_downtime": "{status} Node Downtime (Offline)",
        "notifications_alert_name_downtime": "Node Downtime",
        "alert_node_down": "üö® <b>ALERT: Node '{name}' is DOWN!</b>\n‚è± Last seen: {last_seen}",
        "alert_node_up": "‚úÖ <b>Node '{name}' recovered (Up).</b>\nüü¢ Online now.",
        "alert_node_restarting": "üîµ <b>Node '{name}' is restarting...</b>",

        "alert_node_cpu_high": "‚ö†Ô∏è <b>Node '{name}': High CPU!</b>\nUsage: <b>{usage}%</b> (Threshold: {threshold}%)",
        "alert_node_cpu_normal": "‚úÖ <b>Node '{name}': CPU normal.</b>\nUsage: <b>{usage}%</b>",
        "alert_node_ram_high": "‚ö†Ô∏è <b>Node '{name}': High RAM!</b>\nUsage: <b>{usage}%</b> (Threshold: {threshold}%)",
        "alert_node_ram_normal": "‚úÖ <b>Node '{name}': RAM normal.</b>\nUsage: <b>{usage}%</b>",
        "alert_node_disk_high": "‚ö†Ô∏è <b>Node '{name}': High Disk!</b>\nUsage: <b>{usage}%</b> (Threshold: {threshold}%)",
        "alert_node_disk_normal": "‚úÖ <b>Node '{name}': Disk usage normal.</b>\nUsage: <b>{usage}%</b>",

        "utils_vless_error": "‚ö†Ô∏è Error generating VLESS link: {error}",
        "utils_docker_ps_error": "Failed to execute 'docker ps'. Ensure Docker is installed, running, and the bot has permissions.\n<pre>{error}</pre>",
        "utils_bot_restarted": "‚úÖ Bot restarted successfully.",
        "utils_server_rebooted": "‚úÖ <b>Server rebooted successfully! The bot is back online.</b>",
        "alert_no_users_for_type": "No users with notifications enabled for type '{alert_type}'.",
        "alert_sending_to_users": "Sending alert type '{alert_type}' to {count} users...",
        "alert_sent_to_users": "Alert type '{alert_type}' sent to {count} users.",
        "watchdog_alert_prefix": "üö® Alert System:",
        "watchdog_log_read_error": "Log read error: {error}",
        "watchdog_log_error_found_details": "ERROR detected: {details}",
        "watchdog_log_error_found_generic": "Errors (ERROR/CRITICAL) detected in log",
        "watchdog_log_exception": "Exception reading log: {error}",
        "watchdog_status_active_ok": "Service <b>{bot_name}</b>: Active üü¢",
        "watchdog_status_active_error": "Service <b>{bot_name}</b>: Active with errors üü†\n\n<b>Details:</b> {details}\n\nPlease check `bot.log`.",
        "watchdog_status_active_log_fail": "Service <b>{bot_name}</b>: Active üü¢ (Log check failed)",
        "watchdog_status_activating": "Service <b>{bot_name}</b>: Activating üü°",
        "watchdog_status_restarting_bot": "Service <b>{bot_name}</b>: Service Restart üîµ",
        "watchdog_status_restarting_wd": "üö® Internal 'Alert System' service Service Restart üîµ.\nTracking: <b>{bot_name}</b>",
        "watchdog_status_down": "Service <b>{bot_name}</b>: Unavailable üî¥{reason}",
        "watchdog_status_down_reason": "Reason",
        "watchdog_status_down_failed": "Status: failed",
        "watchdog_restart_fail": "‚ö†Ô∏è Alert system FAILED to send restart command for <b>{service_name}</b>. Manual check required.\nError: {error}",
        "watchdog_systemctl_not_found": "‚ö†Ô∏è <code>systemctl</code> not found. Cannot check service status.",
        "watchdog_check_error": "‚ö†Ô∏è Error checking service status: {error}",
        "f2b_log_not_found": "‚ö†Ô∏è Fail2Ban log file not found: <code>{path}</code>",
        "f2b_log_read_error": "Could not read log file.",
        "f2b_banned": "Banned",
        "f2b_already_banned": "Already banned",
        "f2b_header": "üîí <b>Last 10 IP bans (Fail2Ban):</b>\n\n{log_output}",
        "f2b_no_bans": "üîí No recent IP bans found in Fail2Ban logs (checked last 50 lines).",
        "f2b_read_error_generic": "‚ö†Ô∏è Error reading Fail2Ban log: {error}",
        "f2b_ban_entry": "üîí <b>{ban_type}</b>\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ Time: <b>{time}</b>{tz}\nüóìÔ∏è Date: <b>{date}</b>",
        "logs_header": "üìú <b>Recent system logs:</b>\n<pre>{log_output}</pre>",
        "logs_read_error": "‚ö†Ô∏è Error reading logs: {error}",
        "logs_docker_secure_not_available": "‚õî Reading system logs (journalctl) is not available in Docker (Secure) mode for security reasons.",
        "logs_journalctl_not_found": "‚ö†Ô∏è Command <code>journalctl</code> not found. The 'Recent Events' module cannot work.",
        "logs_journalctl_not_found_in_host": "‚ö†Ô∏è Could not find <code>journalctl</code> on the host machine (/host/usr/bin/journalctl or /host/bin/journalctl).",
        "notifications_menu_title": "üîî <b>Notification Settings</b>\n\nChoose which alerts you want to receive.",
        "notifications_toggle_alert": "Notifications '{alert_name}' {status}",
        "notifications_status_on": "‚úÖ ENABLED",
        "notifications_status_off": "‚ùå DISABLED",
        "notifications_alert_name_res": "Resources",
        "notifications_alert_name_logins": "SSH Logins/Logouts",
        "notifications_alert_name_bans": "Bans",
        "notifications_downtime_stub": "‚è≥ Server downtime notifications are under development.\nFor now, we recommend using an external monitoring service (e.g., UptimeRobot).",
        "alert_ssh_login_detected": "üîî <b>SSH Login Detected</b>\n\nüë§ User: <b>{user}</b>\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ Time: <b>{time}</b>{tz}",
        "alert_f2b_ban_detected": "üõ°Ô∏è <b>Fail2Ban Banned IP</b>\n\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ Time: <b>{time}</b>{tz}",
        "alert_cpu_high": "‚ö†Ô∏è <b>CPU Threshold Exceeded!</b>\nCurrent usage: <b>{usage:.1f}%</b> (Threshold: {threshold}%)",
        "alert_cpu_high_repeat": "‚ÄºÔ∏è <b>CPU Still HIGH!</b>\nCurrent usage: <b>{usage:.1f}%</b> (Threshold: {threshold}%)",
        "alert_cpu_normal": "‚úÖ <b>CPU load normalized.</b>\nCurrent usage: <b>{usage:.1f}%</b>",
        "alert_ram_high": "‚ö†Ô∏è <b>RAM Threshold Exceeded!</b>\nCurrent usage: <b>{usage:.1f}%</b> (Threshold: {threshold}%)",
        "alert_ram_high_repeat": "‚ÄºÔ∏è <b>RAM Still HIGH!</b>\nCurrent usage: <b>{usage:.1f}%</b> (Threshold: {threshold}%)",
        "alert_ram_normal": "‚úÖ <b>RAM usage normalized.</b>\nCurrent usage: <b>{usage:.1f}%</b>",
        "alert_disk_high": "‚ö†Ô∏è <b>Disk Threshold Exceeded!</b>\nCurrent usage: <b>{usage:.1f}%</b> (Threshold: {threshold}%)",
        "alert_disk_high_repeat": "‚ÄºÔ∏è <b>Disk Still HIGH!</b>\nCurrent usage: <b>{usage:.1f}%</b> (Threshold: {threshold}%)",
        "alert_disk_normal": "‚úÖ <b>Disk usage normalized.</b>\nCurrent usage: <b>{usage:.1f}%</b>",
        "optimize_start": "‚è≥ <b>Starting system optimization...</b>\n\nThis is a very long process (5-15 minutes).\nPlease do not restart the bot or run other commands.",
        "optimize_success": "‚úÖ <b>Optimization completed successfully!</b>\n\n<b>Last 1000 characters of output (including sysctl):</b>\n<pre>{output}</pre>",
        "optimize_fail": "‚ùå <b>Error during optimization!</b>\n\n<b>Return Code:</b> {code}\n<b>STDOUT (last 1000):</b>\n<pre>{stdout}</pre>\n<b>STDERR (last 2000):</b>\n<pre>{stderr}</pre>",
        "reboot_confirm_prompt": "‚ö†Ô∏è Are you sure you want to <b>reboot the server</b>? All active connections will be lost.",
        "reboot_confirmed": "‚úÖ Confirmed. <b>Issuing VPS reboot</b>...",
        "reboot_error": "‚ö†Ô∏è Error sending reboot command: {error}",
        "restart_start": "‚ôªÔ∏è Bot is restarting‚Ä¶",
        "restart_error": "‚ö†Ô∏è Error trying to restart service: {error}",
        "selftest_gathering_info": "üîç Gathering server info...",
        "selftest_error": "‚ö†Ô∏è Error gathering system stats: {error}",
        "selftest_inet_ok": "‚úÖ Internet available",
        "selftest_inet_fail": "‚ùå No internet",
        "selftest_ip_fail": "Could not determine",
        "selftest_ssh_source": "(from {source})",
        "selftest_ssh_source_journal": "(from journalctl)",
        "selftest_ssh_header": "\n\nüìÑ <b>Last SSH login{source}:</b>\n",
        "selftest_ssh_entry": "üë§ <b>{user}</b>\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ Time: <b>{time}</b>{tz}\nüóìÔ∏è Date: <b>{date}</b>",
        "selftest_ssh_parse_fail": "Could not parse log line.",
        "selftest_ssh_not_found": "No entries found.",
        "selftest_ssh_read_error": "‚è≥ Error reading logs: {error}",
        "selftest_ssh_root_only": "\n\nüìÑ <b>Last SSH login:</b>\n<i>Info available in root mode only</i>",
        "selftest_results_header": "üõ† <b>Server Status:</b>\n\n",
        "selftest_results_body": "‚úÖ Bot is running\nüìä CPU: <b>{cpu:.1f}%</b>\nüíæ RAM: <b>{mem:.1f}%</b>\nüíΩ Disk: <b>{disk:.1f}%</b>\n‚è± Uptime: <b>{uptime}</b>\n{inet_status}\n‚åõ Ping (8.8.8.8): <b>{ping} ms</b>\nüåê External IP: <code>{ip}</code>\nüì° Traffic ‚¨á <b>{rx}</b> / ‚¨Ü <b>{tx}</b>",
        "speedtest_start": "üöÄ <b>Starting iperf3...</b>\n\nFinding the closest server. This may take 30-40 seconds.",
        "speedtest_results": "üöÄ <b>Speedtest Results (iperf3):</b>\n\n‚¨áÔ∏è <b>Download:</b> {dl:.2f} Mbps\n‚¨ÜÔ∏è <b>Upload:</b> {ul:.2f} Mbps\n‚è±Ô∏è <b>Ping:</b> {ping:.2f} ms\n\nüåç <b>Location:</b> {flag} {server}\nüè¢ <b>Server:</b> {provider}",
        "speedtest_fail": "‚ùå Error running iperf3:\n<pre>{error}</pre>",
        "iperf_fetch_error": "‚ö†Ô∏è Failed to download the iperf3 server list.",
        "iperf_fetch_error_ru": "‚ö†Ô∏è Failed to download the Russian iperf3 server list.",
        "iperf_parse_error_ru": "‚ö†Ô∏è Error parsing the Russian iperf3 server list (YAML).",
        "iperf_no_servers": "‚ö†Ô∏è Failed to find any available iperf3 servers.",
        "iperf_not_found": "Error: <b>iperf3</b> not found.\nInstall it via: <code>sudo apt install iperf3</code>",
        "iperf_timeout": "Error: iperf3 test timed out (server {host} is not responding).",
        "iperf_conn_error_generic": "‚ùå Connection error to <b>{host}</b>. Trying another server...",
        "speedtest_status_geo": "üåç Determining VPS geolocation...",
        "speedtest_status_fetch": "üì• Downloading server list...",
        "speedtest_status_fetch_ru": "üì• Downloading Russian server list...",
        "speedtest_status_ping": "‚è±Ô∏è Finding the best server by ping ({count} servers)...",
        "speedtest_status_testing": "üöÄ Testing speed on <b>{host}</b> ({ping} ms)...",
        "speedtest_status_downloading": "üöÄ Testing speed on <b>{host}</b> ({ping} ms)... ‚¨áÔ∏è Downloading...",
        "speedtest_status_uploading": "üöÄ Testing speed on <b>{host}</b> ({ping} ms)... ‚¨ÜÔ∏è Uploading...",
        "error_message_edit_failed": "ERROR: Failed to update status message.",
        "iperf_all_attempts_failed": "‚ùå Speedtest failed after {attempts} attempts.",
        "sshlog_searching": "üîç Searching for last 10 SSH events (login/fail)...",
        "sshlog_header": "üîê <b>Last {count} SSH events{source}:</b>\n\n{log_output}",
        "sshlog_not_found": "üîê No SSH events (login/fail) found{source}.",
        "sshlog_read_error": "‚ö†Ô∏è Error reading SSH log: {error}",
        "sshlog_entry_success": "‚úÖ <b>Successful login</b>\nüë§ User: <b>{user}</b>\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ {time}{tz} ({date})",
        "sshlog_entry_invalid_user": "‚ùå <b>Invalid user</b>\nüë§ Attempt: <b>{user}</b>\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ {time}{tz} ({date})",
        "sshlog_entry_wrong_pass": "‚ùå <b>Failed password</b>\nüë§ User: <b>{user}</b>\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ {time}{tz} ({date})",
        "sshlog_entry_fail_pam": "‚ùå <b>Failure (PAM)</b>\nüë§ User: <b>{user}</b>\nüåç IP: <b>{flag} {ip}</b>\n‚è∞ {time}{tz} ({date})",
        "top_header": "üî• <b>Top 10 processes by CPU load:</b>\n<pre>{output}</pre>",
        "top_fail": "‚ùå Error getting process list:\n<pre>{error}</pre>",
        "traffic_stop": "‚úÖ Traffic monitoring stopped.",
        "traffic_menu_return": "üè† Main menu:",
        "traffic_start": "üì° <b>Traffic Monitoring</b>\n\n<i>Updates every {interval} seconds.</i>",
        "traffic_start_fail": "‚ö†Ô∏è Failed to start traffic monitoring: {error}",
        "traffic_update_total": "üì° Total Traffic:",
        "traffic_update_speed": "‚ö°Ô∏è Connection Speed:",
        "traffic_rx": "‚¨áÔ∏è RX: {value}",
        "traffic_tx": "‚¨ÜÔ∏è TX: {value}",
        "traffic_speed_rx": "‚¨áÔ∏è RX: {speed:.2f} Mbps",
        "traffic_speed_tx": "‚¨ÜÔ∏è TX: {speed:.2f} Mbps",
        "btn_stop_traffic": "‚èπ Stop",
        "traffic_stopped_alert": "Traffic monitoring stopped.",
        "update_start": "üîÑ Updating VPS... This may take a few minutes.",
        "update_success": "‚úÖ Update complete:\n<pre>{output}</pre>",
        "update_fail": "‚ùå Error during update (Code: {code}):\n<pre>{error}</pre>",
        "uptime_text": "‚è± Uptime: <b>{uptime}</b>",
        "uptime_fail": "‚ö†Ô∏è Error getting uptime: {error}",
        "vless_prompt_file": "üì§ <b>Send your Xray configuration file (JSON)</b>\n\n<i>Important: The file must contain a working outbound configuration with Reality.</i>",
        "vless_error_not_json": "‚õî <b>Error:</b> File must be in <code>.json</code> format.\n\nPlease try sending the file again.",
        "vless_prompt_name": "‚úÖ JSON file received.\n\nNow, <b>enter a name</b> for this VLESS link (e.g., 'My_Server_1'):",
        "vless_error_file_processing": "‚ö†Ô∏è An error occurred while processing the file: {error}",
        "vless_error_no_json_session": "‚ö†Ô∏è Error: JSON data not found in session. Please try again from the beginning.",
        "vless_success_caption": "‚úÖ Your VLESS link named '<b>{name}</b>' is ready:\n\n<code>{url}</code>",
        "vless_menu_return": "üè† Returning to main menu.",
        "vless_error_not_file": "‚õî Please send a <b>document</b> (file), not text.",
        "vless_error_not_text": "‚õî Please send a <b>text name</b>.",
        "xray_detecting": "üîç Detecting installed Xray client...",
        "xray_detect_fail": "‚ùå Could not detect a supported Xray client (Marzban, Amnezia). Update aborted.",
        "xray_detected_start_update": "‚úÖ Detected: <b>{client}</b> (container: <code>{container}</code>). Starting update...",
        "xray_update_error": "Update process for {client} failed:\n<pre>{error}</pre>",
        "xray_update_success": "‚úÖ Xray for <b>{client}</b> successfully updated to version <b>{version}</b>",
        "xray_error_generic": "‚ö†Ô∏è <b>Xray Update Error:</b>\n\n{error}",
        "xray_version_unknown": "unknown",
        "users_menu_header": "üë§ <b>User Management</b>:\n\n{user_list}\n\nSelect an action:",
        "users_list_empty": "No other users found.",
        "my_id_text": "Your ID: <code>{user_id}</code>\n\n<i>(This button was removed from the main menu, but you can find it in the 'üë§ Users' menu)</i>",
        "my_id_inline_text": "Your ID: <code>{user_id}</code>",
        "users_already_here": "You are already here.",
        "users_add_title": "‚ûï <b>Add User</b>\n\nEnter the user's Telegram ID:",
        "users_add_exists": "‚ö†Ô∏è This user is already added.",
        "users_add_group_prompt": "Great. Now select a group for the new user:",
        "users_add_invalid_id": "‚õî Invalid ID. Please enter a numeric Telegram ID.",
        "users_add_fsm_error": "‚ö†Ô∏è Error: User ID not found in FSM state.",
        "users_add_success": "‚úÖ User <b>{user_name}</b> (<code>{user_id}</code>) successfully added to group <b>{group}</b>.",
        "users_delete_title": "‚ûñ <b>Delete User</b>\n\nSelect a user to delete:",
        "users_delete_cant_admin": "‚õî Cannot delete the Main Admin.",
        "users_delete_not_found": "‚ö†Ô∏è User not found.",
        "users_delete_success_text": "‚úÖ User <b>{user_name}</b> deleted.\n\nSelect a user to delete:",
        "users_delete_success_alert": "User {user_name} deleted.",
        "users_delete_self_prompt": "‚ö†Ô∏è <b>Are you sure you want to remove yourself from the bot's user list?</b>\nYou will lose access to all commands.",
        "users_delete_self_id_mismatch": "‚õî Error: IDs do not match.",
        "users_delete_self_success": "‚úÖ You have been successfully removed from the bot users.",
        "users_change_group_title": "üîÑ <b>Change Group</b>\n\nSelect a user:",
        "users_change_group_invalid": "‚ö†Ô∏è Invalid user or Main Admin.",
        "users_change_group_prompt": "Selected user: <b>{user_name}</b>\nCurrent group: <b>{group}</b>\n\nSelect a new group:",
        "users_change_group_success_text": "‚úÖ Group for <b>{user_name}</b> changed to <b>{group}</b>.\n\nSelect a user:",
        "users_change_group_success_alert": "Group for {user_name} changed.",
        "unit_bytes": "B",
        "unit_kb": "KB",
        "unit_mb": "MB",
        "unit_gb": "GB",
        "unit_tb": "TB",
        "unit_pb": "PB",
        "unit_year_short": "y",
        "unit_day_short": "d",
        "unit_hour_short": "h",
        "unit_minute_short": "m",
        "unit_second_short": "s",
        "start_support_message": "This is an open-source project, the author is <a href=\"https://t.me/faridshykhaliev\">@faridshykhaliev</a>. If you wish, you can support the author. This motivates the author to continue developing the project.",
        "start_support_button": " ‚ù§Ô∏è Support the developer",
        "nodes_menu_header": "üñ• <b>Your Server List (Nodes):</b>\n\nSelect a server to view details or manage, or use the buttons below:",
        "node_status_active": "Active üü¢",
        "node_status_offline": "Offline üî¥",
        "node_status_restarting": "Restarting üîµ",
        "node_last_seen": "Last active: {time}",
        "node_details_offline": "üî¥ <b>Server: {name}</b>\nStatus: <b>Offline</b>\nLast Seen: <b>{last_seen}</b>\nIP: {ip}\n\nüìä <b>Last Known Stats:</b>\nCPU: {cpu}%\nRAM: {ram}%\nDisk: {disk}%",
        "node_restarting_alert": "üîµ Server '{name}' is restarting. Please wait 1-2 minutes.",
        "node_management_menu": "üü¢ <b>Managing Server: {name}</b>\nIP: {ip}\nUptime: {uptime}\n\nSelect an action:",
        "node_cmd_sent": "Command '{cmd}' sent to server '{name}'.",
        "node_btn_add": "‚ûï Add Node",
        "node_btn_delete": "‚ûñ Delete Node",
        "node_add_success_token": "‚úÖ <b>Node Created!</b>\n\nName: <b>{name}</b>\nToken: <code>{token}</code>\n\nSave this token and put it in .env on the node server (AGENT_TOKEN).",
        "node_delete_select": "üóë <b>Delete Node</b>\n\nSelect a server you want to delete:",
        "node_deleted": "‚úÖ Node '{name}' successfully deleted.",
        "node_traffic_stopped_alert": "‚úÖ Traffic monitoring for node '{name}' stopped.",

        # --- WEB INTERFACE ---
        "web_title": "Bot Web-agent",
        "web_dashboard_title": "Dashboard",
        "web_agent_stats_title": "Monitoring (Agent)",
        "web_stats_total": "Total Nodes",
        "web_stats_active": "Active Nodes",
        "web_footer_endpoint": "Endpoint",
        "web_footer_powered": "Powered by",
        "web_traffic_total": "Total Traffic",
        "web_uptime": "Uptime",
        "web_cpu": "CPU",
        "web_ram": "RAM",
        "web_disk": "Disk",
        "web_rx": "‚Üì RX",
        "web_tx": "‚Üë TX",
        "web_admin_panel": "Admin Panel",
        "web_admin_desc": "Advanced network management functions available.",
        "web_logs_button": "System Logs",
        "web_settings_button": "Settings",
        "web_node_mgmt_title": "Node Management",
        "web_node_details_title": "Node Details",
        "web_token_label": "Node Token",
        "web_copied": "Copied!",
        "web_resources_chart": "Resources (%)",
        "web_network_chart": "Network (KB/s)",
        "web_logs_title": "System Logs",
        "web_refresh": "Refresh",
        "web_loading": "Loading...",
        "web_logs_footer": "Last 300 lines shown",
        "web_nodes_loading": "Loading nodes data...",
        "web_no_nodes": "No nodes connected",
        "web_details_hidden": "Details hidden",
        "web_log_empty": "Log is empty",
        "web_access_denied": "Access denied",
        "web_error": "Error: {error}",
        "web_conn_error": "Connection error: {error}",
        "web_settings_page_title": "Settings",
        "web_back": "Back",
        "web_notif_section": "Notifications",
        "web_users_section": "Users",
        "web_add_user_btn": "Add",
        "web_add_node_section": "Add Node",
        "web_save_btn": "Save",
        "web_saved_btn": "Saved!",
        "web_saving_btn": "Saving...",
        "web_create_btn": "Create",
        "web_user_id": "ID",
        "web_user_name": "Name",
        "web_user_role": "Role",
        "web_user_action": "Action",
        "web_confirm_delete_user": "Delete user {id}?",
        "web_node_name_placeholder": "Server Name",
        "web_node_token": "Token (save it):",
        "web_node_cmd": "Install command:",
        "web_sys_settings_section": "System Settings",
        "web_thresholds_title": "Alert Thresholds (%)",
        "web_intervals_title": "Intervals (sec)",
        "web_logs_mgmt_title": "Log Management",
        "web_cpu_threshold": "CPU Limit",
        "web_ram_threshold": "RAM Limit",
        "web_disk_threshold": "Disk Limit",
        "web_traffic_interval": "Traffic Update",
        "web_node_timeout": "Node Timeout (Offline)",
        "web_clear_logs_btn": "Clear Logs",
        "web_clear_logs_confirm": "Are you sure? This will delete all bot and watchdog logs.",
        "web_logs_cleared": "Logs cleared successfully.",
        "web_no_users": "No additional users",
        "error_traffic_interval_low": "Bot traffic update interval cannot be less than 5 seconds.",
        "error_traffic_interval_high": "Traffic update interval cannot be more than 100 seconds.",
        "web_logs_clearing": "Clearing...",
        "web_change_password_title": "Change Web Panel Password",
        "web_current_password": "Current Password",
        "web_login_header": "<b>üîê Web Login</b>",
        "web_login_btn": "üîì Login",
        "web_reset_header": "<b>üÜò Reset Password</b>",
        "web_reset_btn": "üîê Reset",
        "web_new_password": "New Password",
        "web_confirm_password": "Confirm Password",
        "web_change_btn": "Change Password",
        "web_pass_changed": "Password changed successfully!",
        "web_pass_mismatch": "Passwords do not match",
        "web_pass_wrong_current": "Invalid current password",
        "web_default_pass_alert": "‚ö†Ô∏è Warning! Default password ('admin') is in use. Please change it in settings.",
        "web_logs_cleared_alert": "Cleared!",
        # --- NEW HINT KEYS (Settings) ---
        "web_hint_cpu_threshold": "The percentage of CPU usage above which a notification will be sent (minimum 50%).",
        "web_hint_ram_threshold": "The percentage of RAM usage above which a notification will be sent (minimum 50%).",
        "web_hint_disk_threshold": "The percentage of disk usage above which a notification will be sent (minimum 50%).",
        "web_hint_traffic_interval": "Frequency of current traffic speed updates in Telegram (minimum 5 sec).",
        "web_hint_node_timeout": "Time in seconds after which a Node (remote server) without response is considered offline and generates an alert (minimum 20 sec).",

        # --- NEW HINT KEYS (Dashboard) ---
        "web_hint_cpu_usage": "Current utilization of the Central Processing Unit.",
        "web_hint_ram_usage": "Current RAM utilization (in percentage).",
        "web_hint_disk_usage": "Current disk space usage (on the root partition '/').",
        "web_hint_traffic_in": "Total volume of inbound traffic since the bot was launched.",
        "web_hint_traffic_out": "Total volume of outbound traffic since the bot was launched.",
        "web_pass_wrong_current": "Invalid current password",
        "web_default_pass_alert": "‚ö†Ô∏è Warning! Default password ('admin') is in use. Please change it in settings.",
        # --- FORGOT PASSWORD ---
        "login_forgot_pass": "Forgot password?",
        "login_reset_title": "Reset Password",
        "login_reset_desc": "Enter your Telegram ID. We will send a reset link to your private messages.",
        "login_btn_send_link": "Send Link",
        "login_btn_contact_admin": "Contact Admin",
        "login_error_user_not_found": "User not found in system.",
        "login_link_sent_title": "Link Sent!",
        "login_link_sent_desc": "Check messages from the bot in Telegram.",
        "reset_page_title": "Set New Password",
        "reset_btn_set": "Set Password",
        "reset_success_title": "Password Changed!",
        "reset_success_desc": "You can now login with your new password.",
        "reset_token_expired": "Link expired or invalid."
    }
}


def load_user_settings():
    try:
        if os.path.exists(core_config.USER_SETTINGS_FILE):
            with open(core_config.USER_SETTINGS_FILE, "r", encoding='utf-8') as f:
                settings = json.load(f)
                loaded_data_int_keys = {
                    int(k): v for k, v in settings.items()}
                shared_state.USER_SETTINGS.clear()
                shared_state.USER_SETTINGS.update(loaded_data_int_keys)
            logging.info("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—è–∑—ã–∫–∏) –∑–∞–≥—Ä—É–∂–µ–Ω—ã.")
        else:
            shared_state.USER_SETTINGS.clear()
            logging.info(
                "–§–∞–π–ª user_settings.json –Ω–µ –Ω–∞–π–¥–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—É—Å—Ç—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.")
    except Exception as e:
        logging.error(f"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ user_settings.json: {e}")
        shared_state.USER_SETTINGS.clear()


def save_user_settings():
    try:
        os.makedirs(
            os.path.dirname(
                core_config.USER_SETTINGS_FILE),
            exist_ok=True)
        settings_to_save = {str(k): v for k,
                            v in shared_state.USER_SETTINGS.items()}
        with open(core_config.USER_SETTINGS_FILE, "w", encoding='utf-8') as f:
            json.dump(settings_to_save, f, indent=4, ensure_ascii=False)
        logging.debug("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—è–∑—ã–∫–∏) —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.")
    except Exception as e:
        logging.error(f"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è user_settings.json: {e}")


def get_user_lang(user_id: int | str | None) -> str:
    if isinstance(user_id, int):
        return shared_state.USER_SETTINGS.get(
            user_id, {}).get(
            "lang", core_config.DEFAULT_LANGUAGE)
    elif isinstance(user_id, str):
        if user_id in STRINGS:
            return user_id
        else:
            return core_config.DEFAULT_LANGUAGE
    else:
        if user_id is not None:
            logging.warning(
                f"get_user_lang –≤—ã–∑–≤–∞–Ω —Å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º —Ç–∏–ø–æ–º user_id: {type(user_id)}. –í–æ–∑–≤—Ä–∞—â–∞—é —è–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.")
        return core_config.DEFAULT_LANGUAGE


def set_user_lang(user_id: int | str | None, lang: str):
    if user_id is None:
        logging.warning(
            "set_user_lang –≤—ã–∑–≤–∞–Ω —Å user_id=None. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ.")
        return
    if not isinstance(user_id, int):
        try:
            user_id = int(user_id)
        except (ValueError, TypeError):
            logging.error(
                f"set_user_lang –≤—ã–∑–≤–∞–Ω —Å –Ω–µ—á–∏—Å–ª–æ–≤—ã–º user_id: {user_id}. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ.")
            return

    if user_id not in shared_state.USER_SETTINGS:
        shared_state.USER_SETTINGS[user_id] = {}
    shared_state.USER_SETTINGS[user_id]["lang"] = lang

    save_user_settings()
    logging.info(
        f"–Ø–∑—ã–∫ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id} –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ '{lang}' –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω.")


def get_text(key: str, user_id_or_lang: int | str | None, **kwargs) -> str:
    lang = core_config.DEFAULT_LANGUAGE

    if isinstance(user_id_or_lang, int):
        lang = get_user_lang(user_id_or_lang)
    elif isinstance(user_id_or_lang, str) and user_id_or_lang in STRINGS:
        lang = user_id_or_lang

    string_template = STRINGS.get(
        lang,
        {}).get(
        key,
        STRINGS.get(
            core_config.DEFAULT_LANGUAGE,
            {}).get(
                key,
            f"[{key}]"))

    try:
        if kwargs:
            return string_template.format(**kwargs)
        else:
            return string_template
    except (KeyError, TypeError, ValueError) as e:
        logging.warning(
            f"–û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–ª—é—á–∞ '{key}' —è–∑—ã–∫–∞ '{lang}' —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ {kwargs}. –®–∞–±–ª–æ–Ω: '{string_template}'. –û—à–∏–±–∫–∞: {e}")
        return string_template


_ = get_text


def get_all_translations(key: str) -> list[str]:
    translations = []
    for lang_code, lang_strings in STRINGS.items():
        if key in lang_strings:
            translations.append(lang_strings[key])
    unique_translations = list(set(translations))
    if not unique_translations:
        logging.error(f"–ö–ª—é—á –ø–µ—Ä–µ–≤–æ–¥–∞ '{key}' –Ω–µ –Ω–∞–π–¥–µ–Ω –Ω–∏ –≤ –æ–¥–Ω–æ–º —è–∑—ã–∫–µ!")
        return [f"[{key}]"]
    return unique_translations


def I18nFilter(key: str):
    return F.text.in_(get_all_translations(key))


def get_language_keyboard() -> InlineKeyboardMarkup:
    keyboard = InlineKeyboardMarkup(
        inline_keyboard=[
            [
                InlineKeyboardButton(
                    text="üá∑üá∫ –†—É—Å—Å–∫–∏–π",
                    callback_data="set_lang_ru"),
                InlineKeyboardButton(
                    text="üá¨üáß English",
                    callback_data="set_lang_en")]])
    return keyboard
